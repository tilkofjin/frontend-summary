(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{375:function(t,s,a){"use strict";a.r(s);var n=a(42),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"nestjs-å¼€å‘æŒ‡å—"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nestjs-å¼€å‘æŒ‡å—"}},[t._v("#")]),t._v(" Nestjs å¼€å‘æŒ‡å—")]),t._v(" "),a("ul",[a("li",[t._v("æ¡†æ¶ä»‹ç»")])]),t._v(" "),a("blockquote",[a("p",[t._v("Nestæ˜¯ç›®å‰ä¸ºæ­¢ä¸ªäººè®¤ä¸ºæœ€ä¼˜ç§€çš„æ¸è¿›å¼"),a("a",{attrs:{href:"http://nodejs.org",target:"_blank"}},[t._v("Node.js")]),t._v(" ä¼ä¸šçº§æ¡†æ¶ï¼Œä½¿ç”¨ "),a("a",{attrs:{href:"http://www.typescriptlang.org",target:"_blank"}},[t._v("TypeScript")]),t._v("æ„å»ºå¹¶ä¿è¯äº†ä¸åŸç”ŸJSçš„å…¼å®¹æ€§ï¼Œå¹¶ç»“åˆäº† OOPï¼ˆé¢å‘å¯¹è±¡ç¼–ç¨‹ï¼‰ï¼ŒFPï¼ˆå‡½æ•°å¼ç¼–ç¨‹ï¼‰å’Œ FRPï¼ˆå‡½æ•°å¼å“åº”ç¼–ç¨‹ï¼‰çš„å…ƒç´ ï¼Œæœ‰ç‚¹ç±»ä¼¼ JAVA çš„ sprinboot æ¡†æ¶çš„æ ¸å‹æ€æƒ³ã€‚æ˜¯ç›®å‰å‰ç«¯å·¥ç¨‹å¸ˆæ„å»ºå¤§å‹å…¨æ ˆé¡¹ç›®çš„æœ€å¥½é€‰æ‹©ã€‚")])]),t._v(" "),a("blockquote",[a("p",[t._v("ç¯å¢ƒè¦æ±‚--ç¡®ä¿æœ¬åœ°"),a("a",{attrs:{href:"http://nodejs.org",target:"_blank"}},[t._v("Node.js")]),t._v("(>= 10.13.0)")])]),t._v(" "),a("ul",[a("li",[a("p",[t._v("è¿™é‡Œåªåšå¸¸ç”¨åŠŸèƒ½æ¨¡å—çš„åŸºç¡€ä»‹ç»ï¼Œè¯¦ç»†ä¿¡æ¯"),a("a",{attrs:{href:"https://docs.nestjs.cn",target:"_blank",rel:"noopener noreferrer"}},[t._v("è¯·æŸ¥çœ‹ä¸­æ–‡æŒ‡å—"),a("OutboundLink")],1),t._v(". ğŸ“š")])]),t._v(" "),a("li",[a("p",[t._v("å…¨å±€å®‰è£…")])])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("  $ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" i -g @nestjs/cli\n  $ nest new project-name\n")])])]),a("h2",{attrs:{id:"æ§åˆ¶å™¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ§åˆ¶å™¨"}},[t._v("#")]),t._v(" æ§åˆ¶å™¨")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://docs.nestjs.com/assets/Controllers_1.png",alt:"img",title:"æ§åˆ¶å™¨"}})]),t._v(" "),a("blockquote",[a("p",[t._v("è´Ÿè´£å¤„ç†ä¼ å…¥çš„ "),a("strong",[t._v("è¯·æ±‚")]),t._v(" å’Œå‘å®¢æˆ·ç«¯è¿”å› "),a("strong",[t._v("å“åº”")]),t._v(" ï¼Œé€šç†Ÿç‚¹æˆ‘ç†è§£ä¸ºï¼Œå…¨å±€è¯·æ±‚ã€å“åº”è·¯ç”±æ§åˆ¶ï¼Œé€šè¿‡TSçš„è£…é¥°å™¨å¯ä»¥å¾ˆæ–¹ä¾¿çš„å°†ç±»ä¸æ•°æ®è¿›è¡Œå…³è”ï¼Œå¹¶ä½¿neståˆ›å»ºè·¯ç”±æ˜ å°„å°†æ•°æ®ç»‘å®šåˆ°ç›¸åº”çš„æ§åˆ¶å™¨ã€‚")])]),t._v(" "),a("h3",{attrs:{id:"è·¯ç”±"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è·¯ç”±"}},[t._v("#")]),t._v(" è·¯ç”±")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("å®˜æ–¹ç¤ºä¾‹:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("cats.controller.ts\n")])])])]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Controller"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Get "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@nestjs/common'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Controller")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'cats'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CatsController")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  @"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("findAll")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'This action returns all cats'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("é€šè¿‡ä¾‹å­å¯ä»¥çœ‹å‡ºï¼Œä½¿ç”¨Controllerè£…é¥°å™¨ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„å†™ä¸€ä¸ªcatsçš„æ§åˆ¶å™¨æ¨¡å—ï¼Œä¸€ä¸ªç®€å•çš„Getè¯·æ±‚ä¹Ÿå¯ä»¥é€šè¿‡è£…é¥°å™¨è½»æ¾å®ç°ã€‚å…¨å±€å®‰è£…è¿‡ "),a("code",[t._v("nest cli")]),t._v(" åï¼Œåˆ›å»ºä¸€ä¸ªæ§åˆ¶å™¨ä¹Ÿå˜å¾—éå¸¸å®¹æ˜“")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("åˆ›å»ºcatsæ§åˆ¶å™¨")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("$ nest g controller cats\n")])])])]),t._v(" "),a("p",[t._v("ä½¿ç”¨æ—¶è¯·æŒ‰ç…§å®˜æ–¹æ¨èçš„æ–¹å¼ï¼Œè¿™æ ·èƒ½é¿å…èµ°å¾ˆå¤šå¼¯è·¯ã€‚")]),t._v(" "),a("h3",{attrs:{id:"è¯·æ±‚å¯¹è±¡ï¼ˆrequestï¼‰"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è¯·æ±‚å¯¹è±¡ï¼ˆrequestï¼‰"}},[t._v("#")]),t._v(" è¯·æ±‚å¯¹è±¡ï¼ˆrequestï¼‰")]),t._v(" "),a("p",[t._v("ç¨‹åºçš„è®¸å¤šè¯·æ±‚éœ€è¦è®¿é—®å®¢æˆ·ç«¯çš„è¯¦æƒ…ä¿¡æ¯ï¼ŒNestæä¾›å¯¹åŸºç¡€å¹³å°çš„è¯·æ±‚å¯¹è±¡çš„è®¿é—®ï¼Œæˆ‘å€‘å¯ä»¥é€šéåœ¨è™•ç†ç¨‹åºçš„ç°½åä¸­æ·»åŠ  "),a("code",[t._v("@Req()")]),t._v(" è£é£¾å™¨ä¾†æŒ‡ç¤ºNestæ³¨å…¥è«‹æ±‚å°è±¡ï¼Œå¾è€Œè¨ªå•è©²è«‹æ±‚å°è±¡ã€‚")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("Requestè¯·æ±‚")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("cats.controller.ts\n")])])])]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Controller"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Get"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Req "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@nestjs/common'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Request "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'express'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Controller")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'cats'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CatsController")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  @"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("findAll")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Req")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" request"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'This action returns all cats'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("å®‰è£…ç±»å‹æ”¯æŒ")]),t._v(" "),a("p",[t._v("ä¸Šé¢çš„"),a("code",[t._v("Request")]),t._v("ä¹Ÿå¯ä»¥è·å–åˆ°å‚æ•°æç¤ºï¼Œåªéœ€å®‰è£… "),a("code",[t._v("@types/express")]),t._v(" åŒ…å³å¯ã€‚")])]),t._v(" "),a("p",[a("code",[t._v("Request")]),t._v(" å¯¹è±¡è¡¨ç¤º HTTP è¯·æ±‚ï¼Œå¹¶å…·æœ‰ "),a("code",[t._v("Request")]),t._v(" æŸ¥è¯¢å­—ç¬¦ä¸²å‚æ•°ï¼ŒHTTP æ ‡å¤´ å’Œ æ­£æ–‡çš„å±æ€§ï¼Œä½†åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹, ä¸å¿…æ‰‹åŠ¨è·å–å®ƒä»¬ã€‚ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸“ç”¨çš„è£…é¥°å™¨ï¼Œæ¯”å¦‚ "),a("code",[t._v("@Body()")]),t._v(" æˆ– "),a("code",[t._v("@Query()")]),t._v("ã€‚å…·ä½“è¯¦æƒ…ä¸åšç»†è¯´ï¼Œè£…é¥°å™¨å’Œæ™®é€šè¡¨è¾¾å¯¹è±¡çš„æ¯”è¾ƒè¯·çœ‹ "),a("a",{attrs:{href:"https://docs.nestjs.com/controllers#request-object",target:"_blank",rel:"noopener noreferrer"}},[t._v("å®˜æ–¹æ–‡æ¡£"),a("OutboundLink")],1),t._v("ã€‚è£…é¥°å™¨çš„å†™æ³•æ›´ä¼˜é›…ï¼Œä¹Ÿæ›´ç¬¦åˆTSçš„ä¹¦å†™è§„èŒƒã€‚")]),t._v(" "),a("hr"),t._v(" "),a("p",[t._v("ä¸ºäº†ä¸åº•å±‚ "),a("code",[t._v("HTTP")]),t._v("å¹³å°(å¦‚ "),a("code",[t._v("Express")]),t._v("å’Œ "),a("code",[t._v("Fastify")]),t._v(")ä¹‹é—´çš„ç±»å‹å…¼å®¹ï¼Œ"),a("code",[t._v("Nest")]),t._v(" æä¾›äº† "),a("code",[t._v("@Res()")]),t._v("å’Œ "),a("code",[t._v("@Response()")]),t._v(" è£…é¥°å™¨ã€‚"),a("code",[t._v("@Res()")]),t._v("åªæ˜¯ "),a("code",[t._v("@Response()")]),t._v("çš„åˆ«åã€‚ä¸¤è€…éƒ½ç›´æ¥å…¬å¼€åº•å±‚å“åº”å¯¹è±¡æ¥å£ã€‚åœ¨ä½¿ç”¨å®ƒä»¬æ—¶æ‚¨è¿˜åº”è¯¥å¯¼å…¥åº•å±‚åº“çš„ç±»å‹(ä¾‹å¦‚ï¼š"),a("code",[t._v("@types/express")]),t._v(")ä»¥å……åˆ†åˆ©ç”¨å®ƒä»¬ã€‚æ³¨æ„ï¼Œåœ¨æ–¹æ³•å¤„ç†ç¨‹åºä¸­æ³¨å…¥ "),a("code",[t._v("@Res()")]),t._v("æˆ– "),a("code",[t._v("@Response()")]),t._v(" æ—¶ï¼Œå°† "),a("code",[t._v("Nest")]),t._v("ç½®äºè¯¥å¤„ç†ç¨‹åºçš„ç‰¹å®šäºåº“çš„æ¨¡å¼ä¸­ï¼Œå¹¶è´Ÿè´£ç®¡ç†å“åº”ã€‚è¿™æ ·åšæ—¶ï¼Œå¿…é¡»é€šè¿‡è°ƒç”¨å“åº”å¯¹è±¡(ä¾‹å¦‚ï¼Œ"),a("code",[t._v("res.json(â€¦)")]),t._v("æˆ– "),a("code",[t._v("res.send(â€¦)")]),t._v(")å‘å‡ºæŸç§å“åº”ï¼Œå¦åˆ™HTTPæœåŠ¡å™¨å°†æŒ‚èµ·ã€‚")]),t._v(" "),a("h3",{attrs:{id:"èµ„æº"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#èµ„æº"}},[t._v("#")]),t._v(" èµ„æº")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("å®˜æ–¹ç¤ºä¾‹")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("cats.controller.ts\n")])])])]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Controller"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Get"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Post "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@nestjs/common'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Controller")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'cats'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CatsController")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  @"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Post")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'This action adds a new cat'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  @"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("findAll")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'This action returns all cats'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("Nestä»¥ç›¸åŒçš„æ–¹å¼æä¾›å…¶é¤˜çš„æ¨™æº–HTTPè«‹æ±‚ç«¯é»è£é£¾å™¨ "),a("code",[t._v("@Put()ï¼Œ@ Delete()ï¼Œ@Patch()ï¼Œ@Options()ï¼Œ@Head(), @All()")]),t._v("ã€‚æ¯å€‹ä»£è¡¨å„è‡ªçš„HTTPè«‹æ±‚æ–¹æ³•ã€‚")]),t._v(" "),a("h3",{attrs:{id:"è·¯ç”±é€šé…ç¬¦"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è·¯ç”±é€šé…ç¬¦"}},[t._v("#")]),t._v(" è·¯ç”±é€šé…ç¬¦")]),t._v(" "),a("p",[t._v("è·¯ç”±è¿˜æ”¯æŒæ¨¡å¼åŒ¹é…ã€‚ç±»ä¼¼ "),a("code",[t._v("*")]),t._v(" è¢«ç”¨ä½œé€šé…ç¬¦ï¼Œå°†åŒ¹é…ä»»ä½•å­—ç¬¦ç»„åˆ, ä¾‹å¦‚ï¼š")]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[t._v("@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ab*cd'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("findAll")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'This route uses a wildcard'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[a("code",[t._v("ab * cd")]),t._v(" è·¯ç”±è·¯å¾„å°†åŒ¹é… ab å¼€å¤´ cd ç»“å°¾çš„å­—ç¬¦, "),a("code",[t._v("?, +, *, ()")]),t._v(" ä¹Ÿå¯ä»¥ä½¿ç”¨ä½œä¸ºå…¶æ­£å‰‡è¡¨é”å¼å°åº”é¡¹çš„å­é›†ã€‚è¿å­—ç¬¦ "),a("code",[t._v("-")]),t._v(" å’Œç‚¹ "),a("code",[t._v(".")]),t._v(" æŒ‰å­—ç¬¦ä¸²è·¯å¾„è§£æã€‚")]),t._v(" "),a("h3",{attrs:{id:"çŠ¶æ€ç "}},[a("a",{staticClass:"header-anchor",attrs:{href:"#çŠ¶æ€ç "}},[t._v("#")]),t._v(" çŠ¶æ€ç ")]),t._v(" "),a("p",[t._v("POSTè¯·æ±‚é»˜è®¤ä¸º "),a("code",[t._v("201")]),t._v(" ï¼Œå…¶ä»–è¯·æ±‚é»˜è®¤è¿”å› "),a("code",[t._v("200")]),t._v(" ä½œä¸ºçŠ¶æ€ç ï¼Œæˆ‘ä»¬ä¸»è¦é€šè¿‡ "),a("code",[t._v("@HttpCode")]),t._v(" è£…é¥°å™¨æ¥å¤„ç†æˆ‘ä»¬çš„éœ€æ±‚æ‰€åº”è¯¥è¿”å›çš„çŠ¶æ€ç ã€‚")]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[t._v("@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Post")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("HttpCode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("204")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'This action adds a new cat'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("çŠ¶æ€ç æ˜¯å¯ä»¥æ ¹æ®ä¸šåŠ¡éœ€æ±‚çš„éœ€è¦è‡ªç”±å®šä¹‰ï¼Œé€šè¿‡ "),a("code",[t._v("@Res()")]),t._v(" æ³¨å…¥ï¼Œå¹¶åœ¨ç¨‹åºé”™è¯¯æ—¶æŠ›å‡ºå¼‚å¸¸ã€‚")]),t._v(" "),a("h3",{attrs:{id:"å“åº”å¤´"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å“åº”å¤´"}},[t._v("#")]),t._v(" å“åº”å¤´")]),t._v(" "),a("p",[t._v("è¦æŒ‡å®šè‡ªå®šä¹‰çš„å“åº”å¤´ï¼Œå¯ä»¥é€šè¿‡è£…é¥°å™¨ "),a("code",[t._v("@Header()")]),t._v(" æ¥å®ç°ã€‚å®ƒä¼šç›´æ¥è°ƒç”¨ "),a("code",[t._v("res.header()")]),t._v("ã€‚")]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[t._v("@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Post")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Header")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Cache-Control'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'none'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'This action adds a new cat'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"é‡å®šå‘"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é‡å®šå‘"}},[t._v("#")]),t._v(" é‡å®šå‘")]),t._v(" "),a("p",[t._v("ä½¿ç”¨ "),a("code",[t._v("@Redirect()")]),t._v(" è£…é¥°å™¨ï¼Œ"),a("code",[t._v("@Redirect()")]),t._v("çš„å¸¦å‚ä¸ºä¸€ä¸ªå¿…ä¼ çš„ "),a("code",[t._v("URL")]),t._v(" ï¼Œå’Œä¸€ä¸ªå¯é€‰çš„ "),a("code",[t._v("statusCode")]),t._v(" ï¼Œè‹¥ "),a("code",[t._v("statusCode")]),t._v(" çœç•¥åˆ™é»˜è®¤ä¸º "),a("code",[t._v("302")])]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[t._v("@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Redirect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://nestjs.com'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("301")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("æœ‰æ—¶å› ä¸šåŠ¡éœ€è¦åŠ¨æ€çš„ "),a("code",[t._v("statusCode")]),t._v(" å’Œ "),a("code",[t._v("URL")]),t._v(" ï¼Œé€šè¿‡ä»è·¯ç”±å¤„ç†ç¨‹åºæ–¹æ³•ï¼Œè¿”å›ä¸€ä¸ªå½¢çŠ¶ä¸ºä»¥ä¸‹å½¢å¼çš„å¯¹è±¡ï¼š")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"url"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" string"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"statusCode"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" number\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("è¿”å›çš„å€¼å°‡è¦†è“‹ä¼ é€’çµ¦ "),a("code",[t._v("@Redirect()")]),t._v(" è£é£¾å™¨çš„æ‰€æœ‰åƒæ•¸ï¼Œä¾‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[t._v("@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'docs'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Redirect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://docs.nestjs.com'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("302")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getDocs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Query")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'version'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" version"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("version "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" version "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'5'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" url"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://docs.nestjs.com/v5/'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),a("h3",{attrs:{id:"è·¯ç”±å‚æ•°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è·¯ç”±å‚æ•°"}},[t._v("#")]),t._v(" è·¯ç”±å‚æ•°")]),t._v(" "),a("p",[t._v("å½“éœ€è¦æ¥å—å‹•æ…‹æ•¸æ“šä½œç‚ºè«‹æ±‚çš„ä¸€éƒ¨åˆ†æ™‚ï¼Œå¸¶æœ‰éœæ…‹è·¯å¾‘çš„è·¯ç”±å°‡ä¸èµ·ä½œç”¨ï¼ˆä¾‹ï¼šä½¿ç”¨"),a("code",[t._v("GET")]),t._v("è¯·æ±‚ "),a("code",[t._v("/cats/1")]),t._v(" æ¥è·å– idä¸º 1çš„ "),a("code",[t._v("cat")]),t._v("ï¼‰ï¼Œä¸ºäº†å®šä¹‰å¸¦å‚æ•°çš„è·¯ç”±ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è·¯ç”±ä¸­æ·»åŠ è·¯ç”±å‚æ•°"),a("strong",[t._v("æ ‡è®°")]),t._v(",æ¥è·å–è¯·æ±‚URLä¸­è¯¥ä½ç½®çš„åŠ¨æ€å€¼ã€‚"),a("code",[t._v("@Get")]),t._v(" ä¸‹é¢çš„è£…é¥°å™¨ç¤ºä¾‹ä¸­çš„è·¯ç”±å‚æ•°æ ‡è®°æ¼”ç¤ºäº†æ­¤æ–¹æ³•ã€‚å¯ä»¥ä½¿ç”¨ "),a("code",[t._v("@Param()")]),t._v(" è£é£¾å™¨è¨ªå•ä»¥é€™ç¨®æ–¹å¼å£°æ˜çš„è·¯ç”±å‚æ•°ï¼Œè¯¥è£…é¥°å™¨åº”æ·»åŠ åˆ°å‡½æ•°ç­¾åä¸­ã€‚")]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[t._v("@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("':id'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("findOne")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Param")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" params"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("console")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("params"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("This action returns a #")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("params"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v(" cat")]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("ä¸Šä¾‹ä¸­çš„ "),a("code",[t._v("@Param()")]),t._v(" ç”¨æ¥è£…é¥°æ–¹æ³•çš„å‚æ•°ï¼Œå¹¶ä½¿è·¯ç”±å‚æ•°å¯ç”¨ä½œè¯¥ä¿®é¥°çš„æ–¹æ³•å‚æ•°åœ¨æ–¹æ³•ä½“å†…çš„å±æ€§ã€‚å¯ä»¥é€šéå¼•ç”¨ "),a("code",[t._v("params.id")]),t._v(" ä¾†è¨ªå• "),a("code",[t._v("id")]),t._v(" åƒæ•¸, è¿˜å¯ä»¥å°‡ç‰¹å®šçš„åƒæ•¸æ¨™è¨˜å‚³éçµ¦è£é£¾å™¨ï¼Œç„¶å¾Œåœ¨æ–¹æ³•ä¸»é«”ä¸­æŒ‰åç¨±ç›´æ¥å¼•ç”¨è·¯ç”±åƒæ•¸ã€‚")]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[t._v("@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("':id'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("findOne")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Param")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'id'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("This action returns a #")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("id"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v(" cat")]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"å­åŸŸè·¯ç”±"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å­åŸŸè·¯ç”±"}},[t._v("#")]),t._v(" å­åŸŸè·¯ç”±")]),t._v(" "),a("p",[a("code",[t._v("@Controller")]),t._v(" è£é£¾å™¨å¯ä»¥æ¡ç”¨ "),a("code",[t._v("host")]),t._v(" é¸é …ï¼Œä»¥è¦æ±‚ä¼ å…¥è¯·æ±‚çš„ HTTP ä¸»æœºåŒ¹é…æŸä¸ªç‰¹å®šå€¼ã€‚")]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[t._v("@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Controller")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" host"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'admin.example.com'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AdminController")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  @"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("index")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Admin page'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[t._v("è­¦å‘Š")]),t._v(" "),a("p",[t._v("ç”±æ–¼ "),a("code",[t._v("Fastify")]),t._v(" ç¼ºä¹å°åµŒå¥—è·¯ç”±å™¨çš„æ”¯æŒï¼Œå› æ­¤åœ¨ä½¿ç”¨å­è·¯ç”±æ™‚ï¼Œæ‡‰ä½¿ç”¨ï¼ˆé»˜èªï¼‰Expressé©é…å™¨")])]),t._v(" "),a("p",[t._v("ä¸è·¯ç”±ç±»ä¼¼ï¼Œ"),a("code",[t._v("hosts")]),t._v(" é€‰é¡¹å¯ä»¥ä½¿ç”¨ä»¤ç‰Œæ¥æ•è·ä¸»æœºåä¸­è¯¥ä½ç½®çš„åŠ¨æ€å€¼,ä¸‹é¢çš„ "),a("code",[t._v("@Controller()")]),t._v(" è£…é¥°å™¨ç¤ºä¾‹ä¸­çš„ä¸»æœºå‚æ•°ä»¤ç‰Œæ¼”ç¤ºäº†æ­¤ç”¨æ³•,å¯ä»¥ä½¿ç”¨ "),a("code",[t._v("@HostParam()")]),t._v(" è£é£¾å™¨è¨ªå•ä»¥é€™ç¨®æ–¹å¼è²æ˜çš„ä¸»æ©Ÿåƒæ•¸,è¯¥è£…é¥°å™¨åº”æ·»åŠ åˆ°æ–¹æ³•ç­¾åä¸­ã€‚")]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[t._v("@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Controller")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" host"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("':account.example.com'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AccountController")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  @"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getInfo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("HostParam")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'account'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" account"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" account"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"ä½œç”¨åŸŸ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä½œç”¨åŸŸ"}},[t._v("#")]),t._v(" ä½œç”¨åŸŸ")]),t._v(" "),a("p",[a("code",[t._v("Node.js")]),t._v(" ä¸éµå¾ªè¯·æ±‚/å“åº”å¤šçº¿ç¨‹æ— çŠ¶æ€æ¨¡å‹ï¼Œæ¯ä¸ªè¯·æ±‚éƒ½ç”±ä¸»çº¿ç¨‹å¤„ç†ã€‚å› æ­¤ï¼Œä½¿ç”¨å•ä¾‹å¯¹æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºæ¥è¯´æ˜¯å®Œå…¨å®‰å…¨çš„ã€‚å…·ä½“ä½¿ç”¨è¯·çœ‹å®˜æ–¹ "),a("a",{attrs:{href:"https://docs.nestjs.com/fundamentals/injection-scopes",target:"_blank",rel:"noopener noreferrer"}},[t._v("æ–‡æ¡£"),a("OutboundLink")],1),t._v("ğŸ“š")]),t._v(" "),a("h3",{attrs:{id:"å¼‚æ­¥ï¼ˆasync-awaitï¼‰"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¼‚æ­¥ï¼ˆasync-awaitï¼‰"}},[t._v("#")]),t._v(" å¼‚æ­¥ï¼ˆasync / awaitï¼‰")]),t._v(" "),a("p",[t._v("ç”±äºè¯·æ±‚å¤§å¤šéƒ½æ˜¯å¼‚æ­¥çš„ï¼Œå¼‚æ­¥ç¼–ç¨‹å¸¦æ¥çš„å¥½å¤„ä¸å¿…å¤šè¯´")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("å®˜æ–¹ç¤ºä¾‹")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("cats.controller.ts\n")])])])]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[t._v("@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("findAll")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Promise")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("any")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("é™¤ä¸Šé¢çš„æ¼”ç¤ºå¤–ï¼Œé€šè¿‡è¿”å› RxJS "),a("a",{attrs:{href:"http://reactivex.io/rxjs/class/es6/Observable.js~Observable.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("observableæµ"),a("OutboundLink")],1),t._v(" ä½¿nestè·¯ç”±å¤„ç†æ›´å¼ºå¤§ã€‚åœ¨æµå®Œæˆåï¼Œnestå°†è‡ªåŠ¨è®¢é˜…ä¸‹é¢çš„æºå¹¶è·å–æœ€åå‘å‡ºçš„å€¼ã€‚")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("å®˜æ–¹ç¤ºä¾‹")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("cats.controller.ts\n")])])])]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[t._v("@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("findAll")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Observable"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("any")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("of")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("ä¸Šé¢çš„ä¸¤ç§æ–¹æ³•éƒ½å¯ä»¥ä½¿ç”¨, é€‰æ‹©ä½ å–œæ¬¢çš„æ–¹å¼å³å¯ã€‚")]),t._v(" "),a("h3",{attrs:{id:"è¯·æ±‚è´Ÿè½½"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è¯·æ±‚è´Ÿè½½"}},[t._v("#")]),t._v(" è¯·æ±‚è´Ÿè½½")]),t._v(" "),a("p",[t._v("ä¹‹å‰çš„ "),a("code",[t._v("POST")]),t._v(" è·¯ç”±å¤„ç†ç¨‹åºä¸æ¥å—ä»»ä½•å®¢æˆ·ç«¯å‚æ•°ã€‚åœ¨è¿™é‡Œæ·»åŠ  "),a("code",[t._v("@Body()")]),t._v(" å‚æ•°æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚\né¦–å…ˆè¦ç¡®å®š "),a("code",[t._v("DTO(æ•°æ®ä¼ è¾“å¯¹è±¡)")]),t._v(" æ¨¡å¼ã€‚"),a("code",[t._v("DTO")]),t._v(" æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒå®šä¹‰äº†å¦‚ä½•é€šè¿‡ç½‘ç»œå‘é€æ•°æ®ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨ "),a("code",[t._v("TypeScript")]),t._v(" æ¥å£æˆ–ç®€å•çš„ç±»æ¥å®Œæˆã€‚ç”±äº "),a("code",[t._v("TypeScript")]),t._v(" æ¥å£åœ¨è½¬æ¢è¿‡ç¨‹ä¸­è¢«åˆ é™¤ï¼Œæ‰€ä»¥ "),a("code",[t._v("Nest")]),t._v(" ä¸èƒ½åœ¨è¿è¡Œæ—¶å¼•ç”¨å®ƒä»¬ã€‚å› ç‚ºç®¡é“ç­‰åŠŸèƒ½åœ¨é‹è¡Œæ™‚å¯ä»¥è¨ªå•è®Šé‡çš„å…ƒé¡å‹æ™‚,æä¾›äº†æ›´å¤šçš„å¯èƒ½æ€§ã€‚")]),t._v(" "),a("blockquote",[a("p",[t._v("æˆ‘ä»¬æ¥åˆ›å»ºä¸€ä¸ª "),a("code",[t._v("CreateCatDto")]),t._v(" ç±»")])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("å®˜æ–¹ç¤ºä¾‹")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("create-cat.dto.ts\n")])])])]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CreateCatDto")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  age"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("number")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  breed"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("ä¸Šä¾‹ä¸­çš„ç±»åªæœ‰ä¸‰ä¸ªå±æ€§ï¼Œæ­¤å¾Œï¼Œæˆ‘å€‘å¯ä»¥åœ¨ "),a("code",[t._v("CatsController")]),t._v(" ä¸­ä½¿ç”¨æ–°å‰µå»ºçš„ "),a("code",[t._v("DTO")]),t._v("ï¼š")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("å®˜æ–¹ç¤ºä¾‹")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("cats.controller.ts\n")])])])]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[t._v("@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Post")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Body")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" createCatDto"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" CreateCatDto")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'This action adds a new cat'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"é”™è¯¯å¤„ç†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é”™è¯¯å¤„ç†"}},[t._v("#")]),t._v(" é”™è¯¯å¤„ç†")]),t._v(" "),a("p",[t._v("å…·ä½“çš„é”™è¯¯å¤„ç†ï¼Œè¯·çœ‹"),a("a",{attrs:{href:"https://docs.nestjs.com/exception-filters",target:"_blank",rel:"noopener noreferrer"}},[t._v("å®˜æ–¹æ–‡æ¡£"),a("OutboundLink")],1),t._v(" ğŸ“š æœ‰å•ç‹¬çš„ç›¸å…³ä»‹ç»ã€‚")]),t._v(" "),a("h3",{attrs:{id:"å®Œæ•´ç¤ºä¾‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å®Œæ•´ç¤ºä¾‹"}},[t._v("#")]),t._v(" å®Œæ•´ç¤ºä¾‹")]),t._v(" "),a("p",[t._v("ä¸‹é¢æ˜¯ä½¿ç”¨å‡ ä¸ªè£…é¥°å™¨åˆ›å»ºçš„æ§åˆ¶å™¨çš„ç¤ºä¾‹ï¼Œè¯¥ç¤ºä¾‹å±•ç¤ºäº†æ§åˆ¶å™¨æä¾›çš„å‡ ç§è®¿é—®å’Œæ“ä½œå†…éƒ¨æ•°æ®çš„æ–¹æ³•ã€‚")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("å®˜æ–¹ç¤ºä¾‹")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("cats.controller.ts\n")])])])]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Controller"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Get"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Query"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Post"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Put"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Param"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Delete "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@nestjs/common'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" CreateCatDto"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" UpdateCatDto"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ListAllEntities "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./dto'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Controller")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'cats'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CatsController")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  @"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Post")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Body")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" createCatDto"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" CreateCatDto")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'This action adds a new cat'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  @"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("findAll")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Query")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" query"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ListAllEntities")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("This action returns all cats (limit: ")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("query"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("limit"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v(" items)")]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  @"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("':id'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("findOne")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Param")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'id'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("This action returns a #")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("id"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v(" cat")]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  @"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Put")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("':id'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("update")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Param")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'id'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" @"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Body")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" updateCatDto"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" UpdateCatDto"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("This action updates a #")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("id"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v(" cat")]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  @"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Delete")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("':id'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("remove")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Param")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'id'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("This action removes a #")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("id"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v(" cat")]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("å¯ä»¥çœ‹å‡ºé€šè¿‡è£…é¥°å™¨å¾ˆå®¹æ˜“å°±å®Œæˆäº†ä¸€ä¸ªåŸºç¡€çš„ CRUD æ¥å£ã€‚")]),t._v(" "),a("h3",{attrs:{id:"å¼€å§‹è¿è¡Œ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¼€å§‹è¿è¡Œ"}},[t._v("#")]),t._v(" å¼€å§‹è¿è¡Œ")]),t._v(" "),a("p",[t._v("å®Œæˆä¸Šè¿°æ§åˆ¶å™¨çš„å®šä¹‰åï¼Œ"),a("code",[t._v("Nest")]),t._v(" ä»ç„¶ä¸çŸ¥é“ "),a("code",[t._v("CatsController")]),t._v(" å­˜åœ¨ã€‚\nå› æ­¤ä¸æœƒå‰µå»ºæ­¤é¡çš„å¯¦ä¾‹,æ§åˆ¶å™¨å§‹çµ‚å±¬æ–¼æ¨¡å¡Šï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆå°† "),a("code",[t._v("controllers")]),t._v(" æ•°ç»„ä¿å­˜åœ¨ "),a("code",[t._v("@module()")]),t._v(" è£…é¥°å™¨ä¸­, ç”±äºé™¤äº†æ ¹ "),a("code",[t._v("ApplicationModule")]),t._v("ï¼Œæˆ‘ä»¬æ²¡æœ‰å…¶ä»–æ¨¡å—ï¼Œæ‰€ä»¥å°†ä½¿ç”¨å®ƒæ¥ä»‹ç» "),a("code",[t._v("CatsController")]),t._v(":")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("å®˜æ–¹ç¤ºä¾‹")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("app.module.ts\n")])])])]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Module "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@nestjs/common'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" CatsController "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./cats/cats.controller'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Module")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  controllers"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("CatsController"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AppModule")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("ä½¿ç”¨ "),a("code",[t._v("@Module()")]),t._v(" è£é£¾å™¨å°‡å…ƒæ•¸æ“šé™„åŠ åˆ°é¡¹ç›®çš„æ¨¡å¡Šé¡ä¸­ï¼Œ"),a("code",[t._v("Nest")]),t._v(" ç°åœ¨å¯ä»¥è¼•é¬†åæ˜ å¿…é ˆå®‰è£å“ªäº›æ§åˆ¶å™¨ã€‚")]),t._v(" "),a("hr"),t._v(" "),a("h3",{attrs:{id:"é™„å½•ï¼šç±»åº“çš„ç‰¹æœ‰æ–¹å¼"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é™„å½•ï¼šç±»åº“çš„ç‰¹æœ‰æ–¹å¼"}},[t._v("#")]),t._v(" é™„å½•ï¼šç±»åº“çš„ç‰¹æœ‰æ–¹å¼")]),t._v(" "),a("p",[t._v("ä»¥ä¸Šä¸»è¦è®²è¿°æ˜¯nestæ ‡å‡†çš„æ–¹æ³•å¤„ç†çš„å“åº”æ–¹å¼ï¼Œè¿™é‡Œç®€å•è®²è¿°ï¼Œè¿˜ä»¥ä¸Šè¿°çš„ "),a("code",[t._v("CatsController")]),t._v(" ä¸ºä¾‹é‡å¯«ç‚ºä»¥ä¸‹å…§å®¹ï¼š")]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Controller"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Get"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Post"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" HttpStatus "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@nestjs/common'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Response "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'express'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Controller")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'cats'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CatsController")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  @"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Post")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" res"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Response")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("status")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("HttpStatus"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("CREATED")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("send")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  @"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("findAll")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" res"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Response")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n     res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("status")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("HttpStatus"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("OK")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("json")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ul",[a("li",[t._v("è¿™é‡Œåªåšç®€å•å®˜æ–¹å¼•è¿°ï¼Œç±»åº“çš„ç‰¹æœ‰æ–¹å¼ä»å®˜æ–¹çš„ç¤ºä¾‹å¯å·²çœ‹å‡ºï¼Œé€»è¾‘å¹¶ä¸æ¸…æ™°ï¼Œå› æ­¤å»ºè®®åœ¨ä»»ä½•æ—¶å€™éƒ½é‡‡ç”¨nestçš„æ ‡å‡†æ¨¡å¼ã€‚\nä»¥ä¸Šæ˜¯ "),a("code",[t._v("nest")]),t._v(" å…³äºæ§åˆ¶å™¨çš„åŸºç¡€ä»‹ç»ã€‚")])]),t._v(" "),a("h2",{attrs:{id:"æä¾›è€…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æä¾›è€…"}},[t._v("#")]),t._v(" æä¾›è€…")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://docs.nestjs.com/assets/Components_1.png",alt:"img",title:"æä¾›è€…"}}),t._v("\næ§åˆ¶å™¨åº”å¤„ç† "),a("code",[t._v("HTTP")]),t._v(" è¯·æ±‚å¹¶å°†æ›´å¤æ‚çš„ä»»åŠ¡å§”æ‰˜ç»™ "),a("code",[t._v("Providers")]),t._v("ã€‚"),a("code",[t._v("Providers")]),t._v(" åªæ˜¯ä¸€ä¸ªç”¨ "),a("code",[t._v("@Injectable()")]),t._v(" è£…é¥°å™¨æ³¨é‡Šçš„ç±»ï¼Œæ˜¯çº¯ç²¹çš„ "),a("code",[t._v("JavaScript")]),t._v(" ç±»ã€‚")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("å¼ºçƒˆå»ºè®®")]),t._v(" "),a("p",[t._v("ç”±äº "),a("code",[t._v("Nest")]),t._v(" å¯ä»¥ä»¥æ›´å¤šçš„é¢å‘å¯¹è±¡æ–¹å¼è®¾è®¡å’Œç»„ç»‡ä¾èµ–æ€§,å› æ­¤è¯·æŒ‰ç…§å®˜æ–¹å»ºè®®ï¼Œå¼ºçƒˆæ¨èæŒ‰ç…§"),a("a",{attrs:{href:"https://zh.wikipedia.org/wiki/SOLID_(%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%AE%BE%E8%AE%A1)",target:"_blank",rel:"noopener noreferrer"}},[t._v("SOLID(å•ä¸€åŠŸèƒ½ã€å¼€é—­åŸåˆ™ã€é‡Œæ°æ›¿æ¢ã€æ¥å£éš”ç¦»ä»¥åŠä¾èµ–åè½¬)"),a("OutboundLink")],1),t._v("åŸåˆ™ã€‚")])]),t._v(" "),a("h3",{attrs:{id:"æœåŠ¡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æœåŠ¡"}},[t._v("#")]),t._v(" æœåŠ¡")]),t._v(" "),a("p",[t._v("åˆ›å»ºä¸€ä¸ªç®€å•çš„æœåŠ¡ç¤ºä¾‹ï¼Œè¯¥æœåŠ¡å°†è´Ÿè´£æ•°æ®å­˜å‚¨å’Œæ£€ç´¢ï¼Œç”±å…¶ä½¿ç”¨ "),a("code",[t._v("CatsController")]),t._v("ï¼Œå› æ­¤å®ƒè¢«å®šä¹‰ä¸º "),a("code",[t._v("Provider")]),t._v(" ï¼Œæˆ‘ä»¬ç”¨è¿™ä¸ªç±»æ¥è£…é¥° "),a("code",[t._v("@Injectable()")]),t._v("ã€‚")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("å®˜æ–¹ç¤ºä¾‹")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("cats.service.ts\n")])])])]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Injectable "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@nestjs/common'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Cat "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./interfaces/cat.interface'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Injectable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CatsService")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("readonly")]),t._v(" cats"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Cat"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("cat"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Cat")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cats"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("cat"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("findAll")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Cat"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cats"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("æç¤º")]),t._v(" "),a("p",[t._v("è‹¥è¦ä½¿ç”¨ "),a("code",[t._v("CLI")]),t._v(" åˆ›å»ºæœåŠ¡ç±»ï¼Œåªéœ€è¾“å…¥å‘½ä»¤ "),a("code",[t._v("$ nest g service cats")]),t._v("ã€‚")])]),t._v(" "),a("p",[a("code",[t._v("CatsService")]),t._v(" æ˜¯å…·æœ‰ä¸€ä¸ªå±æ€§å’Œä¸¤ä¸ªæ–¹æ³•çš„åŸºæœ¬ç±»ã€‚å”¯ä¸€çš„æ–°ç‰¹ç‚¹æ˜¯å®ƒä½¿ç”¨ "),a("code",[t._v("@Injectable()")]),t._v(" è£…é¥°å™¨ã€‚è¯¥ "),a("code",[t._v("@Injectable()")]),t._v(" é™„åŠ æœ‰å…ƒæ•°æ®ï¼Œå› æ­¤ Nest çŸ¥é“è¿™ä¸ªç±»æ˜¯ä¸€ä¸ª "),a("code",[t._v("Nest Provider")]),t._v("ã€‚")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("æç¤º")]),t._v(" "),a("p",[t._v("ç¤ºä¾‹ä¸­çš„ "),a("code",[t._v("Cat")]),t._v(" æ¥å£å¦‚ä¸‹")])]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Cat")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  age"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("number")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  breed"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("æˆ‘ä»¬ç°åœ¨æœ‰äº†ä¸€ä¸ªæœåŠ¡ç±»æ¥æ£€ç´¢ "),a("code",[t._v("cats")]),t._v(",åœ¨ "),a("code",[t._v("CatsController")]),t._v(" é‡Œä½¿ç”¨å¦‚ä¸‹")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("æç¤º")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("cats.controller.ts\n")])])])]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Controller"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Get"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Post"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Body "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@nestjs/common'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" CreateCatDto "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./dto/create-cat.dto'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" CatsService "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./cats.service'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Cat "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./interfaces/cat.interface'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Controller")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'cats'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CatsController")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("constructor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" catsService"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" CatsService")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  @"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Post")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Body")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" createCatDto"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" CreateCatDto")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("catsService"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("createCatDto"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  @"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("findAll")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Promise")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Cat"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("catsService"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("findAll")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("é€šè¿‡ç±»æ„é€ å‡½æ•°æ³¨å…¥ "),a("code",[t._v("CatsService")]),t._v(", æ³¨æ„è¿™é‡Œçš„ "),a("code",[t._v("private")]),t._v(" è¯­æ³•ï¼Œæ„å‘³ç€æˆ‘ä»¬å·²ç»åœ¨åŒä¸€ä½ç½®åˆ›å»ºå¹¶åˆå§‹åŒ–äº† "),a("code",[t._v("catsService")]),t._v(" æˆå‘˜ã€‚")]),t._v(" "),a("h3",{attrs:{id:"ä¾èµ–æ³¨å…¥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¾èµ–æ³¨å…¥"}},[t._v("#")]),t._v(" ä¾èµ–æ³¨å…¥")]),t._v(" "),a("p",[a("code",[t._v("Nest")]),t._v(" å›´ç»•ç€"),a("strong",[t._v("ä¾èµ–æ³¨å…¥")]),t._v("æ„å»ºï¼Œè¿™æ˜¯ä¸€ç§éå¸¸ä¼˜ç§€çš„è®¾è®¡æ¨¡å¼ï¼Œå…³äº"),a("strong",[t._v("ä¾èµ–æ³¨å…¥")]),t._v("çš„ç›¸å…³æ–‡æ¡£å®˜æ–¹å»ºè®®å‚è€ƒ\n"),a("a",{attrs:{href:"https://angular.io/guide/dependency-injection",target:"_blank",rel:"noopener noreferrer"}},[t._v("Aunglar"),a("OutboundLink")],1),t._v("\nå€ŸåŠ© "),a("code",[t._v("typescript")]),t._v(" çš„ä¸€äº›ä¼˜ç§€çš„èƒ½åŠ›ï¼Œç®¡ç†ä¾èµ–é¡¹å˜å¾—å¾ˆå®¹æ˜“ï¼Œå› ä¸ºå®ƒä»¬æŒ‰ç±»å‹è§£æï¼Œä»¥ä¸‹ç¤ºä¾‹ "),a("code",[t._v("nest")]),t._v(" å°†å±•ç¤ºé€šè¿‡åˆ›å»ºå¹¶è¿”å› "),a("code",[t._v("CatsService")]),t._v(" çš„å®ä¾‹æ¥è§£æ "),a("code",[t._v("catsService")]),t._v("(åœ¨å•ä¾‹æ¨¡å¼ä¸‹ï¼Œå¦‚æœç°æœ‰å®ä¾‹åœ¨å…¶ä»–åœ°æ–¹è¢«è¯·æ±‚ï¼Œåˆ™è¿”å›è¯¥å®ä¾‹)ã€‚è§£ææ­¤ä¾èµ–å…³ç³»å¹¶å°†å…¶ä¼ é€’ç»™æ§åˆ¶å™¨çš„æ„é€ å‡½æ•°(æˆ–åˆ†é…ç»™æŒ‡å®šçš„å±æ€§)ã€‚")]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("constructor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" catsService"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" CatsService")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"ä½œç”¨åŸŸ-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä½œç”¨åŸŸ-2"}},[t._v("#")]),t._v(" ä½œç”¨åŸŸ")]),t._v(" "),a("p",[a("code",[t._v("Providers")]),t._v(" é€šå¸¸å…·æœ‰ä¸åº”ç”¨ç¨‹åºåŒæ­¥çš„ç”Ÿå‘½å‘¨æœŸ("),a("code",[t._v("ä½œç”¨åŸŸ")]),t._v(")ï¼Œç¨‹åºå¯åŠ¨æ—¶ï¼Œæ¯ä¸ªä¾èµ–éƒ½å¿…é¡»è¢«è§£æï¼Œå› æ­¤ï¼Œæ‰€æœ‰ "),a("code",[t._v("Provider")]),t._v(" éƒ½è¦å®ä¾‹åŒ–ï¼ŒåŒæ ·ï¼Œå½“ç¨‹åºå…³é—­æ—¶ï¼Œæ¯ä¸ª "),a("code",[t._v("Provider")]),t._v(" éƒ½è¦é”€æ¯æ‰ï¼Œä½†æ˜¯æœ‰äº›æ–¹æ³•å¯ä»¥æ”¹å˜ "),a("code",[t._v("provider")]),t._v(" ç”Ÿå‘½å‘¨æœŸçš„è¯·æ±‚èŒƒå›´ï¼Œè¿™é‡Œæœ‰ç›¸å…³è¯¦ç»†"),a("a",{attrs:{href:"https://docs.nestjs.com/fundamentals/injection-scopes",target:"_blank",rel:"noopener noreferrer"}},[t._v("æ–‡æ¡£ ğŸ“š"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"è‡ªå®šä¹‰çš„-providers"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è‡ªå®šä¹‰çš„-providers"}},[t._v("#")]),t._v(" è‡ªå®šä¹‰çš„ Providers")]),t._v(" "),a("p",[a("code",[t._v("Nest")]),t._v(" æœ‰ä¸€ä¸ªå†…ç½®çš„åè½¬æ§åˆ¶å®¹å™¨( "),a("code",[t._v("IoC")]),t._v(" ),å¯ä»¥è§£å†³ "),a("code",[t._v("Providers")]),t._v(" ä¹‹é—´çš„å…³ç³»ï¼Œæ­¤åŠŸèƒ½æ˜¯ä¸Šè¿°"),a("strong",[t._v("ä¾èµ–é¡¹æ³¨")]),t._v("å…¥åŠŸèƒ½çš„åŸºç¡€ï¼Œä½†å®é™…è¿œæ¯”ä¸Šè¿°å¼ºå¤§å¾—å¤šï¼Œ"),a("code",[t._v("@Injectable()")]),t._v(" è£…é¥°å™¨ä»…ä»…æ˜¯å†°å±±ä¸€è§’ï¼Œå¹¶ä¸æ˜¯å®šä¹‰ "),a("code",[t._v("Providers")]),t._v(" çš„å”¯ä¸€æ–¹æ³•ï¼Œä½ å¯ä»¥ä½¿ç”¨æ™®é€šçš„å€¼ã€ç±»ã€å¼‚æ­¥æˆ–åŒæ­¥å·¥å‚ã€‚æ›´å¤šçš„ç¤ºä¾‹"),a("a",{attrs:{href:"https://docs.nestjs.com/fundamentals/dependency-injection",target:"_blank",rel:"noopener noreferrer"}},[t._v("æ–‡æ¡£ ğŸ“š"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"å¯é€‰-providers"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¯é€‰-providers"}},[t._v("#")]),t._v(" å¯é€‰ Providers")]),t._v(" "),a("p",[t._v("æœ‰æ—¶ï¼Œå¯èƒ½éœ€è¦è§£å†³ä¸€äº›ä¾èµ–é¡¹ï¼Œä¾‹å¦‚ï¼Œä½ çš„ç±»å¯èƒ½å–å†³äºé…ç½®å¯¹è±¡ï¼Œå¦‚æœæ²¡æœ‰ä¼ é€’ï¼Œåº”ä½¿ç”¨é»˜è®¤å€¼ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œä¾èµ–å…³ç³»ä¸ºå¯é€‰ï¼Œ"),a("code",[t._v("provider")]),t._v(" ä¸ä¼šå› ä¸ºç¼ºå°‘é…ç½®å¯¼è‡´é”™è¯¯ã€‚\nè¦æŒ‡ç¤º "),a("code",[t._v("provider")]),t._v(" æ˜¯å¯é€‰çš„,åœ¨ "),a("code",[t._v("constructor")]),t._v(" ä¸­ä½¿ç”¨ "),a("code",[t._v("@Optional()")]),t._v(" è£…é¥°å™¨ã€‚")]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Injectable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Optional"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Inject "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@nestjs/common'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Injectable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HttpService")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("T")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("constructor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Optional")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" @"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Inject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'HTTP_OPTIONS'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" httpClient"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("T")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("ä¸Šé¢çš„ç¤ºä¾‹ä¸­æˆ‘ä»¬ä½¿ç”¨äº†è‡ªå®šçš„ "),a("code",[t._v("provider")]),t._v(" ,è¿™æ˜¯æˆ‘ä»¬åŒ…å«è‡ªå®šä¹‰ "),a("code",[t._v("HTTP_OPTIONS")]),t._v(" "),a("strong",[t._v("token")]),t._v("çš„åŸå› ï¼Œå‰é¢çš„ç¤ºä¾‹æ˜¾ç¤ºäº†åŸºäºæ„é€ å‡½æ•°çš„æ³¨å…¥ï¼Œè¯¥æ³¨å…¥é€šè¿‡ä¾èµ–å‡½æ•°çš„ç±»è¿›è¡Œä¾èµ–ï¼Œæ›´å¤šçš„è‡ªå®šä¹‰ "),a("code",[t._v("Providers")]),t._v(" å’Œç›¸å…³ "),a("strong",[t._v("tokens")]),t._v("ä¿¡æ¯ "),a("a",{attrs:{href:"https://docs.nestjs.com/fundamentals/custom-providers",target:"_blank",rel:"noopener noreferrer"}},[t._v("ğŸ“š"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"åŸºäºå±æ€§çš„æ³¨å…¥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åŸºäºå±æ€§çš„æ³¨å…¥"}},[t._v("#")]),t._v(" åŸºäºå±æ€§çš„æ³¨å…¥")]),t._v(" "),a("p",[a("code",[t._v("Nest")]),t._v(" åˆ°ç›®å‰ä¸ºæ­¢ä½¿ç”¨åŸºäºæ„é€ å‡½æ•°æ³¨å…¥çš„æŠ€æœ¯ï¼Œå³é€šè¿‡æ„é€ å‡½æ•°çš„æ–¹æ³•æ³¨å…¥ "),a("code",[t._v("providers")]),t._v(" ,åœ¨ä¸€äº›ç‰¹æ®Šçš„åœºæ™¯ï¼ŒåŸºäºå±æ€§çš„æ³¨å…¥æ–¹å¼å˜å¾—æ›´å¥½ç”¨ã€‚ä¾‹å¦‚ï¼Œå¦‚æœé¡¶çº§ç±»ä¾èµ–ä¸ä¸€ä¸ªæˆ–å¤šä¸ª "),a("code",[t._v("providers")]),t._v(",é€šè¿‡ä»æ„é€ å‡½æ•°ä¸­è°ƒç”¨å­ç±»çš„ "),a("code",[t._v("super()")]),t._v(" æ¥ä¼ é€’å®ƒä»¬å°±æ˜¾å¾—éå¸¸ç¹çï¼Œä¸ºäº†é¿å…è¿™ç§æƒ…å†µï¼Œå¯ä»¥åœ¨å±æ€§ä¸Šä½¿ç”¨ "),a("code",[t._v("@Inject()")]),t._v(" è£…é¥°å™¨ã€‚ç¤ºä¾‹å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Injectable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Inject "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@nestjs/common'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Injectable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HttpService")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("T")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  @"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Inject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'HTTP_OPTIONS'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("readonly")]),t._v(" httpClient"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("T")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("æ³¨æ„")]),t._v(" "),a("p",[t._v("å¦‚æœä½ çš„ç±»æ²¡æœ‰å…¶ä»– "),a("code",[t._v("provider")]),t._v(" æ‰©å±•ï¼Œé‚£ä½ åº”è¯¥ä¸€ç›´ä½¿ç”¨"),a("strong",[t._v("åŸºäºæ„é€ å‡½æ•°")]),t._v("çš„æ³¨å…¥æ–¹å¼ã€‚")])]),t._v(" "),a("h3",{attrs:{id:"æ³¨å†Œ-provider"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ³¨å†Œ-provider"}},[t._v("#")]),t._v(" æ³¨å†Œ Provider")]),t._v(" "),a("p",[t._v("ç°åœ¨æˆ‘ä»¬å·²ç»æœ‰äº†ä¸€ä¸ªè‡ªå®šä¹‰çš„æä¾›è€…"),a("code",[t._v("(CatsService)")]),t._v(",åŒæ—¶æˆ‘ä»¬æœ‰è¿™ä¸ªæœåŠ¡çš„ä½¿ç”¨è€… "),a("code",[t._v("(CatsController)")]),t._v(",æˆ‘ä»¬éœ€è¦å‘ "),a("code",[t._v("Nest")]),t._v(" æ³¨å†Œè¯¥æœåŠ¡ï¼Œå·²ä¾¿èƒ½æ‰§è¡Œæ³¨å…¥ï¼Œæˆ‘ä»¬å¯ä»¥ç¼–è¾‘æ¨¡å—æ–‡ä»¶ "),a("code",[t._v("(app.module.ts)")]),t._v(" , ç„¶åå°†æœåŠ¡æ·»åŠ è‡³ "),a("code",[t._v("@Module()")]),t._v(" è£…é¥°å™¨çš„ "),a("code",[t._v("providers")]),t._v(" æ•°ç»„ä¸­ã€‚")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("å®˜æ–¹ç¤ºä¾‹")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("app.module.ts\n")])])])]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Module "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@nestjs/common'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" CatsController "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./cats/cats.controller'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" CatsService "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./cats/cats.service'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Module")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  controllers"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("CatsController"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  providers"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("CatsService"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AppModule")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[a("code",[t._v("Nest")]),t._v(" ç°åœ¨å¯ä»¥è§£æ "),a("code",[t._v("CatsController")]),t._v(" ç±»çš„ä¾èµ–å…³ç³»äº†ã€‚ä»¥ä¸‹æ˜¯ç°åœ¨çš„ç›®å½•ç»“æ„:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("    src\n    â”œâ”€â”€ cats\n    â”‚    â”œâ”€â”€dto\n    â”‚    â”‚   â””â”€â”€create-cat.dto.ts\n    â”‚    â”œâ”€â”€ interfaces\n    â”‚    â”‚       â””â”€â”€cat.interface.ts\n    â”‚    â”œâ”€â”€cats.service.ts\n    â”‚    â””â”€â”€cats.controller.ts\n    â”œâ”€â”€app.module.ts\n    â””â”€â”€main.ts\n")])])]),a("h3",{attrs:{id:"æ‰‹åŠ¨å®ä¾‹åŒ–"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ‰‹åŠ¨å®ä¾‹åŒ–"}},[t._v("#")]),t._v(" æ‰‹åŠ¨å®ä¾‹åŒ–")]),t._v(" "),a("p",[t._v("è¿„ä»Šï¼Œå·²è¿‘è®¨è®ºäº† "),a("code",[t._v("Nest")]),t._v(" æ˜¯å¦‚ä½•è‡ªåŠ¨å¤„ç†å¹¶è§£æä¾èµ–é¡¹çš„å¤§éƒ¨åˆ†ç»†èŠ‚ã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå¯èƒ½éœ€è¦è·³å‡ºå†…ç½®çš„ä¾èµ–æ³¨å…¥ç³»ç»Ÿï¼Œå¹¶æ‰‹åŠ¨æ£€ç´¢æˆ–å®ä¾‹åŒ–æä¾›ç¨‹åºï¼Œæˆ‘ä»¬åœ¨ä¸‹é¢ç®€è¦è®¨è®ºä¸¤ä¸ªè¿™æ ·çš„ä¸»é¢˜ã€‚")]),t._v(" "),a("p",[t._v("è¦è·å–ç°æœ‰å®ä¾‹æˆ–åŠ¨æ€çš„å®ä¾‹æä¾›ç¨‹åºï¼Œå¯ä»¥ä½¿ç”¨ "),a("a",{attrs:{href:"https://docs.nestjs.com/fundamentals/module-ref",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("Module reference")]),a("OutboundLink")],1),t._v("ã€‚")]),t._v(" "),a("p",[t._v("åœ¨ "),a("code",[t._v("bootstrap()")]),t._v(" å‡½æ•°ä¸­è·å–æä¾›ç¨‹åº(ä¾‹å¦‚ï¼Œå¯¹äºæ²¡æœ‰æ§åˆ¶å™¨çš„ç‹¬ç«‹åº”ç”¨ç¨‹åº,æˆ–åœ¨å¼•å¯¼è¿‡ç¨‹ä¸­ä½¿ç”¨é…ç½®æœåŠ¡),è¯·æŸ¥çœ‹"),a("a",{attrs:{href:"https://docs.nestjs.com/standalone-applications",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("Standalone applications")]),a("OutboundLink")],1),t._v("ã€‚")]),t._v(" "),a("h2",{attrs:{id:"æ¨¡å—"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ¨¡å—"}},[t._v("#")]),t._v(" æ¨¡å—")]),t._v(" "),a("p",[t._v("æ¨¡å—æ˜¯ç”¨ "),a("code",[t._v("@Module()")]),t._v(" è£…é¥°å™¨æ³¨é‡Šçš„ç±»ï¼Œ"),a("code",[t._v("@Module()")]),t._v(" è£…é¥°å™¨æä¾›äº†å…ƒæ•°æ®ï¼Œ "),a("code",[t._v("Nest")]),t._v(" å¯ä»¥ç”¨å®ƒæ¥ç»„ç»‡åº”ç”¨ç¨‹åºçš„ç»“æ„ã€‚\n"),a("img",{attrs:{src:"https://docs.nestjs.com/assets/Modules_1.png",alt:"img",title:"æ¨¡å—"}})]),t._v(" "),a("p",[t._v("æ¯ä¸ªåº”ç”¨ç¨‹åºéƒ½æœ‰è‡³å°‘ä¸€ä¸ªæ¨¡å—å³"),a("strong",[t._v("æ ¹æ¨¡å—")]),t._v("ï¼Œæ ¹æ¨¡å—æ˜¯ Nest å¼€å§‹å®‰æ’åº”ç”¨ç¨‹åºæ ‘çš„åœ°æ–¹,Nest ä¼šç”¨æ¥è§£ææ¨¡å—å’Œæä¾›è€…å…³ç³»ä»¥åŠä¾èµ–å…³ç³»çš„å†…éƒ¨æ•°æ®ç»“æ„ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå½“åº”ç”¨ç¨‹åºå¾ˆå°æ—¶ï¼Œå¯èƒ½åªæœ‰æ ¹æ¨¡å—ã€‚æˆ‘ä»¬è¦å¼ºè°ƒï¼Œå¼ºçƒˆå»ºè®®å°†æ¨¡å—ä½œä¸ºç»„ç»‡ç»„ä»¶çš„æœ‰æ•ˆæ–¹æ³•ã€‚å› æ­¤ï¼Œå¯¹äºå¤§å¤šæ•°åº”ç”¨ï¼Œæœ€ç»ˆçš„æ¶æ„å°†é‡‡ç”¨å¤šä¸ªæ¨¡å—ï¼Œæ¯ä¸ªæ¨¡å—å°è£…ä¸€ç»„ç´§å¯†ç›¸å…³çš„åŠŸèƒ½ã€‚")]),t._v(" "),a("p",[a("code",[t._v("@module()")]),t._v(" è£…é¥°å™¨æ¥å—ä¸€ä¸ªæè¿°æ¨¡å—å±æ€§çš„å¯¹è±¡ï¼š")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("å¯¹è±¡")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("æè¿°")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("providers")])]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Nestæ³¨å…¥å™¨å°†å®ä¾‹åŒ–çš„æä¾›è€…ï¼Œå¹¶ä¸”è‡³å°‘å¯ä»¥åœ¨æ­¤æ¨¡å—ä¹‹é—´å…±äº«è¿™äº›æä¾›è€…")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("controllers")])]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("æ­¤æ¨¡å—ä¸­å®šä¹‰çš„å¿…é¡»å®ä¾‹åŒ–çš„ä¸€ç»„æ§åˆ¶å™¨")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("imports")])]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("å¯¼å…¥æ¨¡å—çš„åˆ—è¡¨,è¯¥æ¨¡å—å¯¼å‡ºæ‰€éœ€æä¾›ç¨‹åºçš„å¯¼å…¥æ¨¡å—åˆ—è¡¨")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("exports")])]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("ç”±æœ¬æ¨¡å—æä¾›å¹¶åº”åœ¨å…¶ä»–æ¨¡å—ä¸­å¯ç”¨çš„æä¾›è€…çš„å­é›†")])])])]),t._v(" "),a("p",[t._v("é»˜è®¤æƒ…å†µä¸‹ï¼Œè¯¥æ¨¡å—å°è£…æä¾›ç¨‹åºï¼Œè¿™æ„å‘³ç€æ— æ³•æ³¨å…¥æ—¢ä¸æ˜¯å½“å‰æ¨¡å—çš„ç›´æ¥ç»„æˆéƒ¨åˆ†ï¼Œä¹Ÿä¸æ˜¯ä»å¯¼å…¥çš„æ¨¡å—å¯¼å‡ºçš„æä¾›ç¨‹åºï¼Œå› æ­¤ï¼Œå¯ä»¥å°†ä»æ¨¡å—å¯¼å‡ºçš„æä¾›ç¨‹åºè§†ä¸ºæ¨¡å—çš„å…¬å…±æ¥å£æˆ–APIã€‚")]),t._v(" "),a("h3",{attrs:{id:"åŠŸèƒ½æ¨¡å—"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åŠŸèƒ½æ¨¡å—"}},[t._v("#")]),t._v(" åŠŸèƒ½æ¨¡å—")]),t._v(" "),a("p",[a("code",[t._v("CatsController")]),t._v(" å’Œ "),a("code",[t._v("CatsService")]),t._v(" å±äºåŒä¸€åº”ç”¨ç¨‹åºåŸŸã€‚ç”±äºå®ƒä»¬å¯†åˆ‡ç›¸å…³ï¼Œåº”è¯¥è€ƒè™‘å°†å®ƒä»¬ç§»åŠ¨åˆ°ä¸€ä¸ªåŠŸèƒ½æ¨¡å—ä¸‹ï¼Œå³ CatsModuleã€‚åŠŸèƒ½æ¨¡å—ä»…ç»„ç»‡ä¸ç‰¹å®šåŠŸèƒ½ç›¸å…³çš„ä»£ç ï¼Œè¿™æ ·ç»„ç»‡åä»£ç æ›´æ¸…æ™°ï¼Œéšç€åº”ç”¨ç¨‹åºæˆ–å›¢é˜Ÿè§„æ¨¡çš„å¢é•¿ï¼Œæœ‰åŠ©äºæˆ‘ä»¬ç®¡ç†å¤æ‚æ€§å¹¶åˆ©ç”¨"),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/SOLID",target:"_blank",rel:"noopener noreferrer"}},[t._v("SOLID"),a("OutboundLink")],1),t._v("åŸç†è¿›è¡Œå¼€å‘ã€‚")]),t._v(" "),a("p",[t._v("ä¸ºäº†å®ç°ä¸Šè¿°åŠŸèƒ½ï¼Œæ¼”ç¤ºåˆ›å»º "),a("code",[t._v("CatsModule")])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("å®˜æ–¹ç¤ºä¾‹")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("cats/cats.module.ts\n")])])])]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Module "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@nestjs/common'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" CatsController "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./cats.controller'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" CatsService "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./cats.service'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Module")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  controllers"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("CatsController"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  providers"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("CatsService"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CatsModule")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("æç¤º")]),t._v(" "),a("p",[t._v("å¯ä»¥ä½¿ç”¨CLIåˆ›å»ºæ¨¡å—ï¼Œæ‰§è¡Œå‘½ä»¤ "),a("code",[t._v("$ nest g module cats")])])]),t._v(" "),a("p",[t._v("ä»¥ä¸Šï¼Œæˆ‘ä»¬åœ¨ "),a("code",[t._v("cats.module.ts")]),t._v(" æ–‡ä»¶ä¸­å®šä¹‰äº† "),a("code",[t._v("CatsModul")]),t._v("ï¼Œå¹¶å°†ä¸æ­¤æ¨¡å—ç›¸å…³çš„æ‰€æœ‰å†…å®¹ç§»è‡³ "),a("code",[t._v("cats")]),t._v(" ç›®å½•ã€‚æœ€åå°†è¯¥æ¨¡å—å¯¼å…¥åˆ°æ ¹æ¨¡å—ä¸­(å³åœ¨ "),a("code",[t._v("app.module.ts")]),t._v(" æ–‡ä»¶ä¸­å®šä¹‰çš„ "),a("code",[t._v("AppModule")]),t._v(" å†…)ã€‚")]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Module "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@nestjs/common'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" CatsModule "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./cats/cats.module'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Module")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  imports"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("CatsModule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AppModule")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("è¿™æ˜¯ç°åœ¨çš„ç›®å½•ç»“æ„æ ·å¼ï¼š")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("    src\n    â”œâ”€â”€cats\n    â”‚    â”œâ”€â”€dto\n    â”‚    â”‚   â””â”€â”€create-cat.dto.ts\n    â”‚    â”œâ”€â”€interfaces\n    â”‚    â”‚     â””â”€â”€cat.interface.ts\n    â”‚    â”œâ”€cats.service.ts\n    â”‚    â”œâ”€cats.controller.ts\n    â”‚    â””â”€â”€cats.module.ts\n    â”œâ”€â”€app.module.ts\n    â””â”€â”€main.ts\n")])])]),a("h3",{attrs:{id:"å…±äº«æ¨¡å—"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å…±äº«æ¨¡å—"}},[t._v("#")]),t._v(" å…±äº«æ¨¡å—")]),t._v(" "),a("p",[t._v("åœ¨Nestä¸­ï¼Œé»˜è®¤æƒ…å†µä¸‹æ¨¡å—æ˜¯"),a("strong",[t._v("å•ä¾‹")]),t._v("ï¼Œå› æ­¤å¯ä»¥åœ¨å¤šä¸ªæ¨¡å—ä¹‹é—´å…±äº«ä»»ä½•æä¾›ç¨‹åºçš„ç›¸åŒå®ä¾‹ã€‚")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://docs.nestjs.com/assets/Shared_Module_1.png",alt:"img",title:"å…±äº«æ¨¡å—"}})]),t._v(" "),a("p",[t._v("æ¯ä¸ªæ¨¡å—è‡ªåŠ¨æ˜¯ä¸€ä¸ªå…±äº«æ¨¡å—ï¼Œåˆ›å»ºåï¼Œä»»ä½•æ¨¡å—å‡å¯é‡ç”¨ã€‚å‡è®¾è¦åœ¨å…¶ä»–æ¨¡å—ä¹‹é—´å…±äº« "),a("code",[t._v("CatsService")]),t._v("ï¼Œé¦–å…ˆéœ€è¦é€šè¿‡å°† "),a("code",[t._v("CatsService")]),t._v(" æä¾›ç¨‹åºæ·»åŠ åˆ°æ¨¡å—çš„å¯¼å‡ºæ•°ç»„ä¸­æ¥å¯¼å‡ºï¼Œç¤ºä¾‹å¦‚ä¸‹:")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("å®˜æ–¹ç¤ºä¾‹")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("cats.module.ts\n")])])])]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Module "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@nestjs/common'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" CatsController "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./cats.controller'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" CatsService "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./cats.service'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Module")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  controllers"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("CatsController"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  providers"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("CatsService"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  exports"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("CatsService"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CatsModule")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("ç°åœ¨ï¼Œä»»ä½•å¯¼å…¥ "),a("code",[t._v("CatsModule")]),t._v(" çš„æ¨¡å—éƒ½å¯ä»¥è®¿é—® "),a("code",[t._v("CatsService")]),t._v("ï¼Œå¹¶å°†ä¸å¯¼å…¥è¯¥æ¨¡å—çš„æ‰€æœ‰å…¶ä»–æ¨¡å—å…±äº«ã€‚")]),t._v(" "),a("h3",{attrs:{id:"æ¨¡å—é‡æ–°å¯¼å‡º"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ¨¡å—é‡æ–°å¯¼å‡º"}},[t._v("#")]),t._v(" æ¨¡å—é‡æ–°å¯¼å‡º")]),t._v(" "),a("p",[t._v("å¦‚ä¸Šæ‰€ç¤ºï¼Œæ¨¡å—å¯ä»¥å¯¼å‡ºå…¶å†…éƒ¨çš„æä¾›è€…ã€‚æ­¤å¤–ï¼Œä»–ä»¬å¯ä»¥é‡æ–°å¯¼å‡ºè‡ªå·±å¯¼å…¥çš„æ¨¡å—ã€‚ç¤ºä¾‹å¦‚ä¸‹ï¼Œ"),a("code",[t._v("CommonModule")]),t._v(" æ—¢å¯ä»¥ä» "),a("code",[t._v("CoreModule")]),t._v(" å¯¼å…¥ï¼Œä¹Ÿå¯ä»¥ä» "),a("code",[t._v("CoreModule")]),t._v(" å¯¼å‡ºï¼Œä½¿å…¶å¯ç”¨äºå¯¼å…¥æ­¤æ¨¡å—çš„å…¶ä»–æ¨¡å—ã€‚")]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[t._v("@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Module")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  imports"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("CommonModule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  exports"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("CommonModule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CoreModule")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"ä¾èµ–æ³¨å…¥-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¾èµ–æ³¨å…¥-2"}},[t._v("#")]),t._v(" ä¾èµ–æ³¨å…¥")]),t._v(" "),a("p",[t._v("æ¨¡å—ç±»ä¹Ÿå¯ä»¥æ³¨å…¥æä¾›è€…(ä¾‹å¦‚ï¼Œå‡ºäºé…ç½®ç›®çš„)")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("å®˜æ–¹ç¤ºä¾‹")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("cats.module.ts\n")])])])]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Module "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@nestjs/common'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" CatsController "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./cats.controller'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" CatsService "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./cats.service'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Module")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  controllers"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("CatsController"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  providers"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("CatsService"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CatsModule")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("constructor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" catsService"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" CatsService")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("ç„¶è€Œï¼Œç”±äº"),a("a",{attrs:{href:"https://docs.nestjs.com/fundamentals/circular-dependency",target:"_blank",rel:"noopener noreferrer"}},[t._v("å¾ªç¯ä¾èµ–"),a("OutboundLink")],1),t._v("ï¼Œæ¨¡å—ç±»ä¸èƒ½æ³¨å…¥åˆ°æä¾›è€…ä¸­ã€‚")]),t._v(" "),a("h3",{attrs:{id:"å…¨å±€æ¨¡å—"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å…¨å±€æ¨¡å—"}},[t._v("#")]),t._v(" å…¨å±€æ¨¡å—")]),t._v(" "),a("p",[t._v("å¦‚æœåœ¨å„å¤„å¯¼å…¥åŒä¸€ç»„æ¨¡å—,æ˜¾å¾—ç‰¹åˆ«ç¹çï¼Œä¸ "),a("code",[t._v("Angular")]),t._v(" çš„å…¨å±€æ³¨å†Œä¸åŒï¼ŒNestå°†æä¾›ç¨‹åºå°è£…åœ¨æ¨¡å—èŒƒå›´å†…ï¼Œå¦‚æœä¸å…ˆå¯¼å…¥å°è£…æ¨¡å—ï¼Œå°±æ— æ³•åœ¨å…¶ä»–åœ°æ–¹ä½¿ç”¨æ¨¡å—çš„æä¾›è€…ï¼Œä½†æœ‰æ—¶è¿™äº›æä¾›è€…è¦æ±‚å¼€ç®±å³ç”¨(ä¾‹å¦‚ helperï¼Œæ•°æ®åº“è¿æ¥ç­‰)ï¼Œå¯ä»¥ "),a("code",[t._v("ä½¿ç”¨@Global()")]),t._v(" è£…é¥°å™¨å°†æ¨¡å—è®¾ç½®ä¸ºå…¨å±€ã€‚")]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Global "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@nestjs/common'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" CatsController "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./cats.controller'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" CatsService "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./cats.service'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Global")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Module")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  controllers"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("CatsController"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  providers"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("CatsService"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  exports"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("CatsService"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CatsModule")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[a("code",[t._v("@Global()")]),t._v(" è£…é¥°å™¨ä½¿æ¨¡å—æˆä¸ºå…¨å±€ä½œç”¨åŸŸï¼Œå…¨å±€æ¨¡å—åªæ³¨å†Œä¸€æ¬¡ï¼Œé€šå¸¸ç”±æ ¹æˆ–æ ¸å¿ƒæ¨¡å—ç»„æˆã€‚ä¸Šé¢çš„ç¤ºä¾‹ï¼Œ "),a("code",[t._v("CatsService")]),t._v(" æä¾›å•†å°†å¤„äºå…¨å±€æ¨¡å¼ï¼Œå¸Œæœ›æ³¨å…¥æœåŠ¡çš„æ¨¡å—å°†ä¸éœ€è¦åœ¨å…¶å¯¼å…¥æ•°ç»„ä¸­å¯¼å…¥ "),a("code",[t._v("CatsModule")]),t._v("ã€‚")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("æç¤º")]),t._v(" "),a("p",[t._v("å…¨å±€æ¨¡å—å¯ç”¨äºå‡å°‘å¿…è¦çš„æ ·æ¿æ•°é‡ï¼Œä½†å¤§é‡ä½¿ç”¨å¹¶ä¸æ˜¯ä¸€ä¸ªå¥½çš„è®¾è®¡å†³ç­–ï¼Œå¯¼å…¥æ•°ç»„é€šå¸¸æ˜¯ä½¿æ¶ˆè´¹è€…å¯ä»¥ä½¿ç”¨æ¨¡å— API çš„é¦–é€‰æ–¹æ³•ã€‚")])]),t._v(" "),a("h3",{attrs:{id:"åŠ¨æ€æ¨¡å—"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åŠ¨æ€æ¨¡å—"}},[t._v("#")]),t._v(" åŠ¨æ€æ¨¡å—")]),t._v(" "),a("p",[t._v("åŠ¨æ€æ¨¡å—æ˜¯Nestæ¨¡å—ç³»ç»Ÿä¸­çš„ä¸€ä¸ªå¼ºå¤§åŠŸèƒ½ï¼Œå®ƒå¯ä»¥è½»æ¾åˆ›å»ºå¯è‡ªå®šä¹‰çš„æ¨¡å—ï¼Œè¿™äº›æ¨¡å—å¯ä»¥åŠ¨æ€æ³¨å†Œå’Œé…ç½®æä¾›ç¨‹åºã€‚è¿™é‡Œæœ‰ç›¸å…³"),a("a",{attrs:{href:"https://docs.nestjs.com/fundamentals/dynamic-modules",target:"_blank",rel:"noopener noreferrer"}},[t._v("è¯¦ç»†ä»‹ç»"),a("OutboundLink")],1),t._v("ï¼Œè¿™é‡Œåªåšç®€è¦æ¦‚å™ã€‚")]),t._v(" "),a("p",[t._v("ä»¥ä¸‹æ˜¯ "),a("code",[t._v("DatabaseModule")]),t._v(" çš„åŠ¨æ€æ¨¡å—å®šä¹‰çš„ç¤ºä¾‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" DynamicModule "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@nestjs/common'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" createDatabaseProviders "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./database.providers'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Connection "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./connection.provider'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Module")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  providers"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Connection"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DatabaseModule")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("forRoot")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("entities "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" options"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" DynamicModule "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" providers "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createDatabaseProviders")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("options"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" entities"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("module")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" DatabaseModule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      providers"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" providers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      exports"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" providers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("æç¤º")]),t._v(" "),a("p",[a("code",[t._v("forRoot()")]),t._v(" æ–¹æ³•å¯ä»¥åŒæ­¥æˆ–å¼‚æ­¥( "),a("code",[t._v("Promise")]),t._v(" )è¿”å›åŠ¨æ€æ¨¡å—")])]),t._v(" "),a("p",[t._v("æ¨¡å—é»˜è®¤å®šä¹‰äº† "),a("code",[t._v("Connection")]),t._v(" æä¾›ç¨‹åº(åœ¨ "),a("code",[t._v("@Module()")]),t._v(" è£…é¥°å™¨å…ƒæ•°æ®ä¸­)ï¼Œæ­¤å¤–-æ ¹æ®ä¼ é€’ç»™æ–¹æ³•çš„ "),a("code",[t._v("entities")]),t._v(" å’Œ "),a("code",[t._v("options")]),t._v(" å¯¹è±¡ "),a("code",[t._v("forRoot()")]),t._v(" -å…¬å¼€æä¾›ç¨‹åºçš„é›†åˆï¼Œä¾‹å¦‚å­˜å‚¨åº“ã€‚è¯·æ³¨æ„ï¼ŒåŠ¨æ€æ¨¡å—è¿”å›çš„æ˜¯å±æ€§æ‰©å±•è€Œä¸æ˜¯è¦†ç›–ï¼Œ"),a("code",[t._v("@Module()")]),t._v(" è£…é¥°å™¨ä¸­å®šä¹‰çš„åŸºæœ¬æ¨¡å—å…ƒæ•°æ®ã€‚è¿™å°±æ˜¯ä»æ¨¡å—ä¸­å¯¼å‡ºé™æ€å£°æ˜çš„ "),a("code",[t._v("Connection")]),t._v(" æä¾›ç¨‹åºå’ŒåŠ¨æ€ç”Ÿæˆçš„å­˜å‚¨åº“æä¾›ç¨‹åºçš„æ–¹å¼ã€‚")]),t._v(" "),a("p",[t._v("å¦‚æœè¦åœ¨å…¨å±€èŒƒå›´å†…æ³¨å†ŒåŠ¨æ€æ¨¡å—ï¼Œå°† "),a("code",[t._v("global")]),t._v(" å±æ€§è®¾ç½®ä¸º "),a("code",[t._v("true")]),t._v("å³å¯ï¼Œä¾‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  global"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("module")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" DatabaseModule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  providers"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" providers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  exports"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" providers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("æ³¨æ„")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("æ­£å¦‚ä¸Šæ‰€è¿°ï¼Œå¤§é‡ä½¿ç”¨å…¨å±€æ³¨å†Œå¹¶ä¸æ˜¯ä¸€ä¸ªå¥½çš„è®¾è®¡æ–¹å¼ã€‚\n")])])])]),t._v(" "),a("p",[t._v("å¯ä»¥æŒ‰ä»¥ä¸‹æ–¹å¼å¯¼å…¥å’Œé…ç½® "),a("code",[t._v("DatabaseModule")]),t._v("ï¼š")]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Module "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@nestjs/common'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" DatabaseModule "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./database/database.module'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" User "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./users/entities/user.entity'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Module")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  imports"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("DatabaseModule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("forRoot")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("User"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AppModule")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("å¦‚æœæ‚¨æƒ³åè¿‡æ¥é‡æ–°å¯¼å‡ºåŠ¨æ€æ¨¡å—ï¼Œæ‚¨å¯ä»¥åœ¨ "),a("code",[t._v("exports")]),t._v(" æ•°ç»„ä¸­çœç•¥ "),a("code",[t._v("forRoot()")]),t._v(" æ–¹æ³•è°ƒç”¨ï¼š")]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Module "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@nestjs/common'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" DatabaseModule "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./database/database.module'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" User "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./users/entities/user.entity'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Module")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  imports"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("DatabaseModule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("forRoot")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("User"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  exports"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("DatabaseModule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AppModule")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[a("a",{attrs:{href:"https://docs.nestjs.com/fundamentals/dynamic-modules",target:"_blank",rel:"noopener noreferrer"}},[t._v("åŠ¨æ€æ¨¡å—"),a("OutboundLink")],1),t._v("ä¸€ç« æœ‰æ›´è¯¦ç»†çš„ä»‹ç»ã€‚å¹¶åŒ…å«ä¸€ä¸ªå·¥ä½œ"),a("a",{attrs:{href:"https://github.com/nestjs/nest/tree/master/sample/25-dynamic-modules",target:"_blank",rel:"noopener noreferrer"}},[t._v("ç¤ºä¾‹"),a("OutboundLink")],1),t._v("ã€‚")]),t._v(" "),a("h2",{attrs:{id:"ä¸­é—´ä»¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸­é—´ä»¶"}},[t._v("#")]),t._v(" ä¸­é—´ä»¶")]),t._v(" "),a("p",[t._v("ä¸­é—´ä»¶æ˜¯åœ¨è·¯ç”±å¤„ç†ç¨‹åºä¹‹å‰è°ƒç”¨çš„å‡½æ•°ã€‚ä¸­é—´ä»¶åŠŸèƒ½å¯ä»¥è®¿é—®"),a("a",{attrs:{href:"http://expressjs.com/en/4x/api.html#req",target:"_blank",rel:"noopener noreferrer"}},[t._v("è¯·æ±‚"),a("OutboundLink")],1),t._v("å’Œ"),a("a",{attrs:{href:"http://expressjs.com/en/4x/api.html#res",target:"_blank",rel:"noopener noreferrer"}},[t._v("å“åº”"),a("OutboundLink")],1),t._v("å¯¹è±¡ï¼Œä»¥åŠåº”ç”¨ç¨‹åºçš„è¯·æ±‚-å“åº”å‘¨æœŸä¸­çš„ "),a("code",[t._v("next()")]),t._v(" ä¸­é—´ä»¶åŠŸèƒ½ã€‚ä¸‹ä¸€ä¸ªä¸­é—´ä»¶åŠŸèƒ½é€šå¸¸ç”±åä¸º "),a("code",[t._v("next")]),t._v(" çš„å˜é‡è¡¨ç¤ºã€‚")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://docs.nestjs.com/assets/Middlewares_1.png",alt:"img",title:"ä¸­é—´ä»¶"}})]),t._v(" "),a("p",[t._v("é»˜è®¤æƒ…å†µä¸‹ï¼Œ"),a("code",[t._v("Nest")]),t._v(" ä¸­é—´ä»¶ç­‰æ•ˆäº "),a("code",[t._v("Express")]),t._v("ä¸­é—´ä»¶ã€‚å®˜æ–¹æ–‡æ¡£ä¸­çš„ä»¥ä¸‹æè¿°æè¿°äº†ä¸­é—´ä»¶çš„åŠŸèƒ½ï¼š")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("ä¸­é—´ä»¶çš„åŠŸèƒ½ï¼š")]),t._v(" "),a("p",[t._v("ä¸­é—´ä»¶åŠŸèƒ½å¯ä»¥æ‰§è¡Œä»¥ä¸‹ä»»åŠ¡ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("æ‰§è¡Œä»»ä½•ä»£ç ã€‚")]),t._v(" "),a("li",[t._v("æ›´æ”¹è¯·æ±‚å’Œå“åº”å¯¹è±¡ã€‚")]),t._v(" "),a("li",[t._v("ç»“æŸè¯·æ±‚-å“åº”å‘¨æœŸã€‚")]),t._v(" "),a("li",[t._v("è°ƒç”¨å †æ ˆä¸­çš„ä¸‹ä¸€ä¸ªä¸­é—´ä»¶å‡½æ•°ã€‚")]),t._v(" "),a("li",[t._v("å¦‚æœå½“å‰çš„ä¸­é—´ä»¶åŠŸèƒ½æ²¡æœ‰ç»“æŸè¯·æ±‚-å“åº”å‘¨æœŸï¼Œå®ƒå¿…é¡»è°ƒç”¨ "),a("code",[t._v("next()")]),t._v(" æ‰èƒ½å°†æ§åˆ¶æƒä¼ é€’ç»™ä¸‹ä¸€ä¸ªä¸­é—´ä»¶å‡½æ•°ï¼Œå¦åˆ™ï¼Œè¯·æ±‚å°†è¢«æŒ‚èµ·ã€‚")])])]),t._v(" "),a("p",[t._v("æ‚¨å¯ä»¥åœ¨ä»»ä¸€å‡½æ•°ä¸­å®ç°è‡ªå®šä¹‰ "),a("code",[t._v("Nest")]),t._v(" ä¸­é—´ä»¶ï¼Œæˆ–åœ¨å…·æœ‰ "),a("code",[t._v("@Injectable()")]),t._v(" è£…é¥°å™¨çš„ç±»ä¸­ã€‚è¯¥ç±»åº”å®ç° "),a("code",[t._v("NestMiddleware")]),t._v(" æ¥å£ï¼Œè€Œè¯¥åŠŸèƒ½æ²¡æœ‰ä»»ä½•ç‰¹æ®Šè¦æ±‚ï¼Œè®©æˆ‘ä»¬ä»ä½¿ç”¨ç±»æ–¹æ³•å®ç°ä¸€ä¸ªç®€å•çš„ä¸­é—´ä»¶åŠŸèƒ½å¼€å§‹ã€‚")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("å®˜æ–¹ç¤ºä¾‹")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("logger.middleware.ts\n")])])])]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Injectable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" NestMiddleware "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@nestjs/common'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Response "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'express'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Injectable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("LoggerMiddleware")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("NestMiddleware")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" next"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Function")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("console")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Request...'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"ä¾èµ–æ³¨å…¥-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¾èµ–æ³¨å…¥-3"}},[t._v("#")]),t._v(" ä¾èµ–æ³¨å…¥")]),t._v(" "),a("p",[t._v("Nestä¸­é—´ä»¶å…¨é¢æ”¯æŒä¾èµ–æ³¨å…¥ï¼Œå°±åƒ "),a("code",[t._v("providers")]),t._v(" å’Œ "),a("code",[t._v("controllers")]),t._v(" ä¸€æ ·ï¼Œä»–ä»¬èƒ½å¤Ÿæ³¨å…¥åŒä¸€æ¨¡å—ä¸­å¯ç”¨çš„ä¾èµ–é¡¹ï¼Œå’Œå¹³å¸¸ä¸€æ ·ï¼Œè¿™æ˜¯é€šè¿‡æ„é€ å‡½æ•°å®Œæˆçš„ã€‚")]),t._v(" "),a("h3",{attrs:{id:"åº”ç”¨ä¸­é—´ä»¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åº”ç”¨ä¸­é—´ä»¶"}},[t._v("#")]),t._v(" åº”ç”¨ä¸­é—´ä»¶")]),t._v(" "),a("p",[a("code",[t._v("@Module()")]),t._v(" è£…é¥°å™¨ä¸­ä¸å¯æ”¾å…¥ä¸­é—´ä»¶, ç›¸åï¼Œæˆ‘ä»¬ä½¿ç”¨æ¨¡å—ç±»çš„ "),a("code",[t._v("configure()")]),t._v(" æ–¹æ³•æ¥è®¾ç½®å®ƒä»¬ã€‚åŒ…å«ä¸­é—´ä»¶çš„æ¨¡å—å¿…é¡»å®ç° "),a("code",[t._v("NestModule")]),t._v(" æ¥å£ï¼Œæˆ‘ä»¬åœ¨  "),a("code",[t._v("AppModule")]),t._v(" çº§åˆ«ä¸Šè®¾ç½® "),a("code",[t._v("LoggerMiddleware")]),t._v("ã€‚")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("å®˜æ–¹ç¤ºä¾‹")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("app.module.ts\n")])])])]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" NestModule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" MiddlewareConsumer "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@nestjs/common'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" LoggerMiddleware "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./common/middleware/logger.middleware'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" CatsModule "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./cats/cats.module'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Module")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  imports"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("CatsModule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AppModule")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("NestModule")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("configure")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("consumer"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" MiddlewareConsumer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("consumer")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apply")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("LoggerMiddleware"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("forRoutes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'cats'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä¸ºå…ˆå‰åœ¨ "),a("code",[t._v("CatsController")]),t._v(" å†…éƒ¨å®šä¹‰çš„ "),a("code",[t._v("/ cats")]),t._v(" è·¯ç”±å¤„ç†ç¨‹åºè®¾ç½®äº† "),a("code",[t._v("LoggerMiddleware")]),t._v("ï¼Œåœ¨é…ç½®ä¸­é—´ä»¶æ—¶ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡å°†åŒ…å«è·¯ç”±è·¯å¾„å’Œè¯·æ±‚æ–¹æ³•çš„å¯¹è±¡ï¼Œä¼ é€’ç»™ "),a("code",[t._v("forRoutes()")]),t._v(" æ–¹æ³•ï¼Œè¿›ä¸€æ­¥å°†ä¸­é—´ä»¶é™åˆ¶ä¸ºç‰¹å®šçš„è¯·æ±‚æ–¹æ³•ã€‚åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼Œè¯·æ³¨æ„ï¼Œæˆ‘ä»¬å¯¼å…¥äº† "),a("code",[t._v("RequestMethod")]),t._v(" æšä¸¾ä»¥å¼•ç”¨æ‰€éœ€çš„è¯·æ±‚æ–¹æ³•ç±»å‹ã€‚")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("å®˜æ–¹ç¤ºä¾‹")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("app.module.ts\n")])])])]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" NestModule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" RequestMethod"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" MiddlewareConsumer "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@nestjs/common'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" LoggerMiddleware "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./common/middleware/logger.middleware'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" CatsModule "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./cats/cats.module'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Module")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  imports"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("CatsModule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AppModule")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("NestModule")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("configure")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("consumer"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" MiddlewareConsumer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("consumer")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apply")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("LoggerMiddleware"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("forRoutes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" path"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'cats'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" method"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" RequestMethod"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("GET")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("æç¤º")]),t._v(" "),a("p",[t._v("å¯ä»¥ä½¿ç”¨ "),a("code",[t._v("async / await")]),t._v(" ä½¿ "),a("code",[t._v("configure()")]),t._v(" æ–¹æ³•å¼‚æ­¥åŒ–ï¼ˆä¾‹ï¼Œå¯ä»¥åœ¨ "),a("code",[t._v("configure()")]),t._v(" æ–¹æ³•ä¸»ä½“ä¸­ï¼Œç­‰å¾…å¼‚æ­¥æ“ä½œçš„å®Œæˆï¼‰ã€‚")])]),t._v(" "),a("h3",{attrs:{id:"è·¯ç”±é€šé…ç¬¦-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è·¯ç”±é€šé…ç¬¦-2"}},[t._v("#")]),t._v(" è·¯ç”±é€šé…ç¬¦")]),t._v(" "),a("p",[t._v("è·¯ç”±åŒæ ·æ”¯æŒæ¨¡å¼åŒ¹é…ï¼Œä¾‹å¦‚ï¼Œå¯ä»¥ä½¿ç”¨ * é€šé…ç¬¦ï¼ŒåŒ¹é…ä»»ä½•å­—ç¬¦ç»„åˆã€‚")]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[t._v("  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("forRoutes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" path"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ab*cd'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" method"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" RequestMethod"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ALL")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("è·¯ç”±è·¯å¾„ä¸º"),a("code",[t._v("'ab * cd'")]),t._v("ï¼Œå°†åŒ¹é…abcdï¼Œab_cdï¼Œabecdç­‰ç­‰ï¼Œå­—ç¬¦ "),a("code",[t._v("?ï¼Œ+ï¼Œ* åŠ ()")]),t._v(" æ˜¯å®ƒä»¬çš„æ­£åˆ™è¡¨è¾¾å¼å¯¹åº”é¡¹çš„å­é›†ã€‚è¿å­—ç¬¦ ("),a("code",[t._v("-")]),t._v(") å’Œç‚¹ ("),a("code",[t._v(".")]),t._v(") æŒ‰å­—ç¬¦ä¸²è·¯å¾„è§£æã€‚")]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("æ³¨æ„")]),t._v(" "),a("p",[t._v("fastifyè½¯ä»¶åŒ…ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬çš„path-to-regexpè½¯ä»¶åŒ…ï¼Œè¯¥è½¯ä»¶åŒ…ä¸å†æ”¯æŒé€šé…ç¬¦æ˜Ÿå·*ã€‚ ç›¸åï¼Œæ‚¨å¿…é¡»ä½¿ç”¨å‚æ•° (ä¾‹å¦‚ ("),a("code",[t._v(".*")]),t._v(")ã€"),a("code",[t._v(":splat*")]),t._v(")ã€‚")])]),t._v(" "),a("h3",{attrs:{id:"ä¸­é—´ä»¶æ¶ˆè´¹è€…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸­é—´ä»¶æ¶ˆè´¹è€…"}},[t._v("#")]),t._v(" ä¸­é—´ä»¶æ¶ˆè´¹è€…")]),t._v(" "),a("p",[a("code",[t._v("MiddlewareConsumer")]),t._v(" æ˜¯ä¸ªå¸®åŠ©ç±»ã€‚å®ƒæä¾›äº†å‡ ç§å†…ç½®æ–¹æ³•æ¥ç®¡ç†ä¸­é—´ä»¶ï¼Œä»–ä»¬éƒ½å¯ä»¥è¢«ç®€å•åœ°é“¾æ¥èµ·æ¥ã€‚"),a("code",[t._v("forRoutes()")]),t._v(" æ–¹æ³•å¯ä»¥ä½¿ç”¨å•ä¸ªå­—ç¬¦ä¸²ï¼Œå¤šä¸ªå­—ç¬¦ä¸²ï¼Œ"),a("code",[t._v("RouteInfo")]),t._v(" å¯¹è±¡ï¼Œä¸€ä¸ªæ§åˆ¶å™¨ç±»ç”šè‡³å¤šä¸ªæ§åˆ¶å™¨ç±»ã€‚åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæ‚¨å¯èƒ½åªéœ€è¦ä¼ é€’ä»¥é€—å·åˆ†éš”çš„æ§åˆ¶å™¨åˆ—è¡¨ã€‚ä»¥ä¸‹æ˜¯å•ä¸ªæ§åˆ¶å™¨çš„ç¤ºä¾‹ï¼š")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("å®˜æ–¹ç¤ºä¾‹")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("app.module.ts\n")])])])]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" NestModule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" MiddlewareConsumer "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@nestjs/common'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" LoggerMiddleware "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./common/middleware/logger.middleware'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" CatsModule "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./cats/cats.module'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" CatsController "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./cats/cats.controller.ts'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Module")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  imports"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("CatsModule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AppModule")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("NestModule")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("configure")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("consumer"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" MiddlewareConsumer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("consumer")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apply")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("LoggerMiddleware"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("forRoutes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("CatsController"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("æç¤º")]),t._v(" "),a("p",[a("code",[t._v("apply()")]),t._v(" æ–¹æ³•å¯ä»¥é‡‡ç”¨å•ä¸ªä¸­é—´ä»¶ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å¤šä¸ªå‚æ•°æ¥æŒ‡å®šå¤šä¸ªä¸­é—´ä»¶ã€‚")])]),t._v(" "),a("h3",{attrs:{id:"æ’é™¤è·¯ç”±"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ’é™¤è·¯ç”±"}},[t._v("#")]),t._v(" æ’é™¤è·¯ç”±")]),t._v(" "),a("p",[t._v("æœ‰æ—¶æˆ‘ä»¬æƒ³ä»åº”ç”¨ä¸­é—´ä»¶ä¸­æ’é™¤æŸäº›è·¯ç”±ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ "),a("code",[t._v("exclude()")]),t._v(" æ–¹æ³•è½»æ¾æ’é™¤æŸäº›è·¯ç”±ï¼Œæ­¤æ–¹æ³•å¯ä»¥é‡‡ç”¨ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¤šä¸ªå­—ç¬¦ä¸²æˆ–ä¸€ä¸ª "),a("code",[t._v("RouteInfo")]),t._v(" å¯¹è±¡ï¼Œä»¥æ ‡è¯†è¦æ’é™¤çš„è·¯ç”±ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š")]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("consumer")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apply")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("LoggerMiddleware"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("exclude")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" path"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'cats'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" method"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" RequestMethod"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("GET")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" path"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'cats'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" method"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" RequestMethod"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("POST")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'cats/(.*)'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("forRoutes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("CatsController"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("æç¤º")]),t._v(" "),a("p",[a("code",[t._v("exclude()")]),t._v(" æ–¹æ³•ä½¿ç”¨ "),a("code",[t._v("path-to-regexp")]),t._v(" åŒ…æ”¯æŒé€šé…ç¬¦å‚æ•°ã€‚")])]),t._v(" "),a("p",[t._v("åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œ"),a("code",[t._v("LoggerMiddleware")]),t._v(" å°†ç»‘å®šåˆ° "),a("code",[t._v("CatsController")]),t._v(" å†…éƒ¨å®šä¹‰çš„æ‰€æœ‰è·¯ç”±ï¼Œä½†ä¼ é€’ç»™ "),a("code",[t._v("exclude()")]),t._v(" æ–¹æ³•çš„ä¸‰ä¸ªè·¯ç”±é™¤å¤–ã€‚")]),t._v(" "),a("h3",{attrs:{id:"å‡½æ•°å¼ä¸­é—´ä»¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‡½æ•°å¼ä¸­é—´ä»¶"}},[t._v("#")]),t._v(" å‡½æ•°å¼ä¸­é—´ä»¶")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬ä¸€ç›´åœ¨ä½¿ç”¨çš„ "),a("code",[t._v("LoggerMiddleware")]),t._v(" ç±»éå¸¸ç®€å•ï¼Œå®ƒæ²¡æœ‰æˆå‘˜ï¼Œæ²¡æœ‰å…¶ä»–æ–¹æ³•ï¼Œä¹Ÿæ²¡æœ‰ä¾èµ–é¡¹ã€‚ä¸ºä»€ä¹ˆæˆ‘ä»¬ä¸èƒ½å®šä¹‰ä¸€ä¸ªç®€å•çš„å‡½æ•°ï¼Œè€Œè¦å®šä¹‰ä¸€ä¸ªç±»ã€‚äº‹å®ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥ï¼Œè¿™ç§ç±»å‹çš„ä¸­é—´ä»¶ç§°ä¸º "),a("strong",[t._v("å‡½æ•°ä¸­é—´ä»¶")]),t._v("ï¼Œè®©æˆ‘ä»¬å°† "),a("code",[t._v("logger ä¸­é—´ä»¶")]),t._v(" ä»åŸºäº "),a("strong",[t._v("ç±»çš„ä¸­é—´ä»¶")]),t._v(" è½¬å˜ä¸º "),a("strong",[t._v("å‡½æ•°å¼ä¸­é—´ä»¶")]),t._v("æ¥è¯´æ˜ä»–ä»¬çš„åŒºåˆ«ã€‚")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("å®˜æ–¹ç¤ºä¾‹")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("logger.middleware.ts\n")])])])]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Response "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'express'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("logger")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" next"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Function")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("console")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("Request...")]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("å¹¶åœ¨ "),a("code",[t._v("AppModule")]),t._v(" ä¸­ä½¿ç”¨å®ƒ")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("å®˜æ–¹ç¤ºä¾‹")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("app.module.ts\n")])])])]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[t._v("  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("consumer")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apply")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("logger"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("forRoutes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("CatsController"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("æç¤º")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("æ¯å½“æ‚¨çš„ä¸­é—´ä»¶ä¸éœ€è¦ä»»ä½•ä¾èµ–å…³ç³»æ—¶ï¼Œè¯·è€ƒè™‘ä½¿ç”¨åŠŸèƒ½æ›´ç®€å•çš„ä¸­é—´ä»¶æ›¿ä»£æ–¹æ¡ˆã€‚\n")])])])]),t._v(" "),a("h3",{attrs:{id:"å¤šä¸ªä¸­é—´ä»¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¤šä¸ªä¸­é—´ä»¶"}},[t._v("#")]),t._v(" å¤šä¸ªä¸­é—´ä»¶")]),t._v(" "),a("p",[t._v("å¦‚ä¸Šæ‰€è¿°ï¼Œä¸ºäº†ç»‘å®šé¡ºåºæ‰§è¡Œçš„å¤šä¸ªä¸­é—´ä»¶ï¼Œåªéœ€åœ¨ "),a("code",[t._v("apply()")]),t._v(" æ–¹æ³•å†…éƒ¨ä½¿ç”¨"),a("strong",[t._v("é€—å·")]),t._v("åˆ†éš”çš„åˆ—è¡¨å³å¯ã€‚")]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("consumer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apply")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cors")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("helmet")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" logger"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("forRoutes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("CatsController"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h3",{attrs:{id:"å…¨å±€ä¸­é—´ä»¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å…¨å±€ä¸­é—´ä»¶"}},[t._v("#")]),t._v(" å…¨å±€ä¸­é—´ä»¶")]),t._v(" "),a("p",[t._v("å¦‚æœæˆ‘ä»¬æƒ³ä¸€æ¬¡æ€§å°†ä¸­é—´ä»¶ç»‘å®šåˆ°æ¯ä¸ªæ³¨å†Œçš„è·¯ç”±ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ "),a("code",[t._v("INestApplication")]),t._v(" å®ä¾‹æä¾›çš„ "),a("code",[t._v("use()")]),t._v(" æ–¹æ³•ï¼š")]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" app "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" NestFactory"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("AppModule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\napp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("logger"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("listen")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h2",{attrs:{id:"å¼‚å¸¸è¿‡æ»¤å™¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¼‚å¸¸è¿‡æ»¤å™¨"}},[t._v("#")]),t._v(" å¼‚å¸¸è¿‡æ»¤å™¨")]),t._v(" "),a("p",[t._v("Nestå¸¦æœ‰å†…ç½®çš„å¼‚å¸¸å±‚ï¼Œè¯¥å±‚è´Ÿè´£å¤„ç†åº”ç”¨ç¨‹åºä¸­æ‰€æœ‰æœªå¤„ç†çš„å¼‚å¸¸ã€‚å½“åº”ç”¨ç¨‹åºä»£ç æœªå¤„ç†å¼‚å¸¸æ—¶ï¼Œæ­¤å±‚å°†æ•è·è¯¥å¼‚å¸¸ï¼Œç„¶åå¯¹ç”¨æˆ·è‡ªåŠ¨å‘é€é€‚å½“çš„å‹å¥½å“åº”ã€‚")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://docs.nestjs.com/assets/Filter_1.png",alt:"img",title:"å¼‚å¸¸è¿‡æ»¤å™¨"}})]),t._v(" "),a("p",[t._v("å¼€ç®±å³ç”¨ï¼Œæ­¤æ“ä½œç”±å†…ç½®çš„å…¨å±€å¼‚å¸¸è¿‡æ»¤å™¨æ‰§è¡Œï¼Œè¯¥è¿‡æ»¤å™¨å¤„ç† "),a("code",[t._v("HttpException")]),t._v(" ç±»å‹çš„å¼‚å¸¸(åŠå…¶å­ç±»)ã€‚å¦‚æœæ— æ³•è¯†åˆ«å¼‚å¸¸(æ—¢ä¸æ˜¯ "),a("code",[t._v("HttpException")]),t._v(" ä¹Ÿä¸æ˜¯ä» "),a("code",[t._v("HttpException")]),t._v(" ç»§æ‰¿çš„ç±»)ï¼Œåˆ™å†…ç½®å¼‚å¸¸è¿‡æ»¤å™¨å°†ç”Ÿæˆä»¥ä¸‹é»˜è®¤JSONå“åº”ï¼š")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"statusCode"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("500")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"message"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Internal server error"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"åŸºæœ¬å¼‚å¸¸"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åŸºæœ¬å¼‚å¸¸"}},[t._v("#")]),t._v(" åŸºæœ¬å¼‚å¸¸")]),t._v(" "),a("p",[a("code",[t._v("Nest")]),t._v(" æä¾›äº†å†…ç½®çš„ "),a("code",[t._v("HttpException")]),t._v(" ç±»ï¼Œè¯¥ç±»ä» "),a("code",[t._v("@nestjs/common")]),t._v(" åŒ…å¼•å…¥ï¼Œå¯¹äºå…¸å‹çš„åŸºäº "),a("code",[t._v("HTTP REST/GraphQL API")]),t._v("çš„åº”ç”¨ç¨‹åºï¼Œæœ€ä½³å®è·µæ˜¯åœ¨å‘ç”ŸæŸäº›é”™è¯¯æƒ…å†µæ—¶å‘é€æ ‡å‡† "),a("code",[t._v("HTTP")]),t._v(" å“åº”å¯¹è±¡ã€‚")]),t._v(" "),a("p",[t._v("ä¸¾ä¸ªä¾‹å­ï¼Œåœ¨ "),a("code",[t._v("CatsController")]),t._v(" ä¸­ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ª "),a("code",[t._v("findAll()")]),t._v(" æ–¹æ³• ( è·å–è·¯ç”±)ã€‚å‡è®¾æ­¤è·¯ç”±å¤„ç†ç¨‹åºç”±äºæŸç§åŸå› å¼•å‘äº†å¼‚å¸¸ï¼Œä¸ºäº†è¯´æ˜ï¼Œæˆ‘ä»¬å¯¹å…¶åšå¦‚ä¸‹ç¡¬ç¼–ç ï¼š")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("å®˜æ–¹ç¤ºä¾‹")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("cats.controller.ts\n")])])])]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[t._v("@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("findAll")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HttpException")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Forbidden'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" HttpStatus"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("FORBIDDEN")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("æç¤º")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬åœ¨è¿™é‡Œä½¿ç”¨äº† "),a("code",[t._v("HttpStatus")]),t._v("ã€‚ è¿™æ˜¯ä» "),a("code",[t._v("@nestjs/common")]),t._v(" åŒ…å¯¼å…¥çš„å¸®åŠ©æšä¸¾ã€‚")])]),t._v(" "),a("p",[t._v("å½“å®¢æˆ·ç«¯è°ƒç”¨æ­¤ç«¯ç‚¹æ—¶ï¼Œå“åº”å¦‚ä¸‹æ‰€ç¤ºï¼š")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"statusCode"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("403")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"message"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Forbidden"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[a("code",[t._v("HttpException")]),t._v(" æ„é€ å‡½æ•°é‡‡ç”¨ä¸¤ä¸ªå¿…éœ€çš„å‚æ•°æ¥ç¡®å®šå“åº”ï¼š")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("response")]),t._v(" å‚æ•°å®šä¹‰ "),a("code",[t._v("JSON")]),t._v(" å“åº”ä¸»ä½“ã€‚å¯ä»¥æ˜¯ "),a("code",[t._v("string")]),t._v(" æˆ– "),a("code",[t._v("object")]),t._v(", å¦‚ä¸‹æ‰€è¿°ã€‚")]),t._v(" "),a("li",[a("code",[t._v("status")]),t._v(" å‚æ•°å®šä¹‰ "),a("code",[t._v("HTTP")]),t._v(" çŠ¶æ€ä»£ç ã€‚")])]),t._v(" "),a("p",[t._v("é»˜è®¤æƒ…å†µä¸‹ï¼ŒJSONå“åº”ä¸»ä½“åŒ…å«ä¸¤ä¸ªå±æ€§ï¼š")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("statusCode")]),t._v("ï¼šé»˜è®¤ä¸º "),a("code",[t._v("status")]),t._v("å‚æ•°ä¸­æä¾›çš„ "),a("code",[t._v("HTTP")]),t._v(" çŠ¶æ€ç ã€‚")]),t._v(" "),a("li",[a("code",[t._v("message")]),t._v("ï¼šåŸºäºçŠ¶æ€çš„ "),a("code",[t._v("HTTP")]),t._v(" é”™è¯¯çš„ç®€çŸ­æè¿°ã€‚")])]),t._v(" "),a("p",[t._v("è¦ä»…è¦†ç›–"),a("strong",[t._v("JSON")]),t._v("å“åº”ä½“çš„æ¶ˆæ¯éƒ¨åˆ†ï¼Œè¯·åœ¨ "),a("code",[t._v("response")]),t._v(" å‚æ•°ä¸­æä¾›ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚è¦è¦†ç›–æ•´ä¸ª "),a("code",[t._v("JSON")]),t._v(" å“åº”ä½“ï¼Œè¯·åœ¨ "),a("code",[t._v("response")]),t._v(" å‚æ•°ä¸­ä¼ é€’ä¸€ä¸ªå¯¹è±¡ï¼Œ"),a("code",[t._v("Nest")]),t._v(" å°†åºåˆ—åŒ–è¯¥å¯¹è±¡ï¼Œå¹¶å°†å…¶ä½œä¸º "),a("code",[t._v("JSON")]),t._v(" å“åº”æ­£æ–‡è¿”å›ã€‚ç¬¬äºŒä¸ªæ„é€ å‡½æ•°å‚æ•°-"),a("code",[t._v("status")]),t._v("-åº”è¯¥æ˜¯æœ‰æ•ˆçš„ "),a("code",[t._v("HTTP")]),t._v(" çŠ¶æ€ç ã€‚æœ€ä½³å®è·µæ˜¯ä½¿ç”¨ä» "),a("code",[t._v("@nestjs/common")]),t._v(" å¯¼å…¥çš„ "),a("code",[t._v("HttpStatus")]),t._v(" æšä¸¾ã€‚")]),t._v(" "),a("p",[t._v("è¿™æ˜¯ä¸€ä¸ªè¦†ç›–æ•´ä¸ªå“åº”æ­£æ–‡çš„ç¤ºä¾‹ï¼š")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("å®˜æ–¹ç¤ºä¾‹")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("cats.controller.ts\n")])])])]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[t._v("@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("findAll")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HttpException")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    status"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" HttpStatus"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("FORBIDDEN")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    error"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'This is a custom message'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" HttpStatus"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("FORBIDDEN")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("ä½¿ç”¨ä¸Šé¢çš„ä»£ç ï¼Œåº”è¯¥çš„å“åº”æ˜¯ï¼š")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"status"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("403")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"error"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"This is a custom message"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"è‡ªå®šä¹‰å¼‚å¸¸"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è‡ªå®šä¹‰å¼‚å¸¸"}},[t._v("#")]),t._v(" è‡ªå®šä¹‰å¼‚å¸¸")]),t._v(" "),a("p",[t._v("å¤§å¤šæƒ…å†µä¸‹ï¼Œä½ ä¸éœ€è¦å†™è‡ªå®šä¹‰å¼‚å¸¸ï¼Œå¯ä»¥ä½¿ç”¨å†…ç½®çš„ "),a("code",[t._v("Nest HTTP")]),t._v(" å¼‚å¸¸ï¼Œå¦‚ä¸‹ä¸€èŠ‚æ‰€è¿°ï¼Œå¦‚æœä½ ç¡®å®éœ€è¦åˆ›å»ºè‡ªå®šä¹‰å¼‚å¸¸ï¼Œæœ€å¥½åˆ›å»ºè‡ªå·±çš„å¼‚å¸¸å±‚æ¬¡ç»“æ„ï¼Œæ‚¨çš„è‡ªå®šä¹‰å¼‚å¸¸ç»§æ‰¿è‡ªåŸºæœ¬ "),a("code",[t._v("HttpException")]),t._v(" ç±»ã€‚ç”¨è¿™ç§æ–¹æ³•ï¼Œ"),a("code",[t._v("Nest")]),t._v(" ä¼šè¯†åˆ«æ‚¨çš„å¼‚å¸¸ï¼Œå¹¶è‡ªåŠ¨å¤„ç†é”™è¯¯å“åº”ï¼Œè®©æˆ‘ä»¬å®ç°ä¸€ä¸ªè¿™æ ·çš„å¼‚å¸¸:")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("å®˜æ–¹ç¤ºä¾‹")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("forbidden.exception.ts\n")])])])]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ForbiddenException")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HttpException")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("constructor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Forbidden'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" HttpStatus"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("FORBIDDEN")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("ç”±äº "),a("code",[t._v("ForbiddenException")]),t._v(" æ‰©å±•äº†åŸºç¡€ "),a("code",[t._v("HttpException")]),t._v("ï¼Œå®ƒå°†ä¸å†…ç½®å¼‚å¸¸å¤„ç†ç¨‹åºæ— ç¼åä½œï¼Œå› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ "),a("code",[t._v("findAll()")]),t._v(" æ–¹æ³•ä¸­ä½¿ç”¨å®ƒã€‚")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("å®˜æ–¹ç¤ºä¾‹")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("cats.controller.ts\n")])])])]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[t._v("@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("findAll")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ForbiddenException")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"å†…ç½®httpå¼‚å¸¸"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å†…ç½®httpå¼‚å¸¸"}},[t._v("#")]),t._v(" å†…ç½®HTTPå¼‚å¸¸")]),t._v(" "),a("p",[a("code",[t._v("Nest")]),t._v(" æä¾›äº†ä¸€ç»„ä»åŸºæœ¬ "),a("code",[t._v("HttpException")]),t._v(" ç»§æ‰¿çš„åŸºæœ¬å¼‚å¸¸ï¼Œè¿™äº›æ˜¯ä» "),a("code",[t._v("@nestjs/common")]),t._v(" åŒ…å…¬å¼€çš„ï¼Œå®ƒä»¬ä»£è¡¨è®¸å¤šæœ€å¸¸è§çš„ "),a("code",[t._v("HTTP")]),t._v(" å¼‚å¸¸ï¼š")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("BadRequestException")])]),t._v(" "),a("li",[a("code",[t._v("UnauthorizedException")])]),t._v(" "),a("li",[a("code",[t._v("NotFoundException")])]),t._v(" "),a("li",[a("code",[t._v("ForbiddenException")])]),t._v(" "),a("li",[a("code",[t._v("NotAcceptableException")])]),t._v(" "),a("li",[a("code",[t._v("RequestTimeoutException")])]),t._v(" "),a("li",[a("code",[t._v("ConflictException")])]),t._v(" "),a("li",[a("code",[t._v("GoneException")])]),t._v(" "),a("li",[a("code",[t._v("HttpVersionNotSupportedException")])]),t._v(" "),a("li",[a("code",[t._v("PayloadTooLargeException")])]),t._v(" "),a("li",[a("code",[t._v("UnsupportedMediaTypeException")])]),t._v(" "),a("li",[a("code",[t._v("UnprocessableEntityException")])]),t._v(" "),a("li",[a("code",[t._v("InternalServerErrorException")])]),t._v(" "),a("li",[a("code",[t._v("NotImplementedException")])]),t._v(" "),a("li",[a("code",[t._v("ImATeapotException")])]),t._v(" "),a("li",[a("code",[t._v("MethodNotAllowedException")])]),t._v(" "),a("li",[a("code",[t._v("BadGatewayException")])]),t._v(" "),a("li",[a("code",[t._v("ServiceUnavailableException")])]),t._v(" "),a("li",[a("code",[t._v("GatewayTimeoutException")])])]),t._v(" "),a("h3",{attrs:{id:"å¼‚å¸¸è¿‡æ»¤å™¨-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¼‚å¸¸è¿‡æ»¤å™¨-2"}},[t._v("#")]),t._v(" å¼‚å¸¸è¿‡æ»¤å™¨")]),t._v(" "),a("p",[t._v("å†…ç½®çš„åŸºæœ¬å¼‚å¸¸è¿‡æ»¤å™¨å¯ä»¥ä¸ºæ‚¨è‡ªåŠ¨å¤„ç†è®¸å¤šæƒ…å†µï¼Œæ‚¨å¯èƒ½å¸Œæœ›å®Œå…¨æ§åˆ¶å¼‚å¸¸å±‚ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œæ‚¨å¯èƒ½éœ€è¦åŸºäºä¸€äº›åŠ¨æ€å› ç´ æ·»åŠ æ—¥å¿—è®°å½•ï¼Œæˆ–ä½¿ç”¨å…¶ä»– "),a("code",[t._v("JSON")]),t._v(" æ¨¡å¼ï¼Œ"),a("strong",[t._v("å¼‚å¸¸è¿‡æ»¤å™¨")]),t._v("æ­£æ˜¯ä¸ºæ­¤ç›®çš„è€Œè®¾è®¡çš„ã€‚å®ƒä»¬ä½¿æ‚¨å¯ä»¥ç²¾ç¡®çš„æ§åˆ¶æµä»¥åŠå°†å“åº”çš„å†…å®¹å‘é€å›å®¢æˆ·ç«¯ã€‚æˆ‘ä»¬æ¥åˆ›å»ºä¸€ä¸ªå¼‚å¸¸è¿‡æ»¤å™¨ï¼Œè¯¥è¿‡æ»¤å™¨è´Ÿè´£æ•è·ä½œä¸º "),a("code",[t._v("HttpException")]),t._v(" ç±»å®ä¾‹çš„å¼‚å¸¸ã€‚å¹¶ä¸ºå…¶å®ç°è‡ªå®šä¹‰å“åº”é€»è¾‘ã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦è®¿é—®åŸºç¡€å¹³å°çš„ "),a("code",[t._v("Request")]),t._v(" å’Œ "),a("code",[t._v("Response")]),t._v(" å¯¹è±¡ã€‚æˆ‘ä»¬å°†è®¿é—® "),a("code",[t._v("Request")]),t._v("å¯¹è±¡ï¼Œä»¥ä¾¿æˆ‘ä»¬å¯ä»¥æå–åŸå§‹ "),a("code",[t._v("url")]),t._v(" å¹¶å°†å…¶åŒ…å«åœ¨æ—¥å¿—è®°å½•ä¿¡æ¯ä¸­ã€‚æˆ‘ä»¬å°†ä½¿ç”¨ "),a("code",[t._v("Response.json()")]),t._v(" æ–¹æ³•ï¼Œä½¿ç”¨ "),a("code",[t._v("Response")]),t._v(" å¯¹è±¡ç›´æ¥æ§åˆ¶å‘é€çš„å“åº”ã€‚")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("å®˜æ–¹ç¤ºä¾‹")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("http-exception.filter.ts\n")])])])]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" ExceptionFilter"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Catch"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ArgumentsHost"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" HttpException "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@nestjs/common'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Response "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'express'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Catch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("HttpException"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HttpExceptionFilter")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ExceptionFilter")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("exception"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" HttpException"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" host"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ArgumentsHost"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" ctx "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" host"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("switchToHttp")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" response "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ctx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("getResponse"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Response"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" request "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ctx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("getRequest"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Request"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" status "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" exception"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getStatus")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    response\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("status")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("status"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("json")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        statusCode"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" status"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        timestamp"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Date")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("toISOString")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        path"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("æç¤º")]),t._v(" "),a("p",[t._v("æ‰€æœ‰å¼‚å¸¸è¿‡æ»¤å™¨éƒ½åº”å®ç°é€šç”¨çš„ "),a("code",[t._v("ExceptionFilter <T>")]),t._v(" æ¥å£ã€‚å®ƒéœ€è¦ä½ ä½¿ç”¨æœ‰æ•ˆç­¾åæä¾› "),a("code",[t._v("catch(exception: T, host: ArgumentsHost)")]),t._v(" æ–¹æ³•ã€‚"),a("code",[t._v("T")]),t._v(" è¡¨ç¤ºå¼‚å¸¸ç±»å‹ã€‚")])]),t._v(" "),a("p",[a("code",[t._v("@Catch(HttpException)")]),t._v(" è£…é¥°å™¨å°†æ‰€éœ€çš„å…ƒæ•°æ®ç»‘å®šåˆ°å¼‚å¸¸è¿‡æ»¤å™¨ï¼Œå‘Šè¯‰ "),a("code",[t._v("Nest")]),t._v(" è¿™ä¸ªç‰¹å®šçš„è¿‡æ»¤å™¨æ­£åœ¨å¯»æ‰¾ "),a("code",[t._v("HttpException")]),t._v(" ç±»å‹çš„å¼‚å¸¸ï¼Œä»…æ­¤è€Œå·²ã€‚"),a("code",[t._v("@Catch()")]),t._v(" è£…é¥°å™¨å¯ä»¥ä½¿ç”¨å•ä¸ªå‚æ•°ï¼Œæˆ–ä»¥é€—å·åˆ†éš”çš„åˆ—è¡¨ã€‚è¿™ä½¿æ‚¨å¯ä»¥åŒæ—¶ä¸ºå‡ ç§ç±»å‹çš„å¼‚å¸¸è®¾ç½®è¿‡æ»¤å™¨ã€‚")]),t._v(" "),a("h3",{attrs:{id:"å‚æ•°ä¸»æœº"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‚æ•°ä¸»æœº"}},[t._v("#")]),t._v(" å‚æ•°ä¸»æœº")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ "),a("code",[t._v("catch()")]),t._v(" æ–¹æ³•çš„å‚æ•°ï¼Œ"),a("code",[t._v("exception")]),t._v(" å‚æ•°æ˜¯å½“å‰æ­£åœ¨å¤„ç†çš„å¼‚å¸¸å¯¹è±¡ï¼Œ"),a("code",[t._v("host")]),t._v(" å‚æ•°æ˜¯ "),a("code",[t._v("ArgumentsHost")]),t._v(" å¯¹è±¡ã€‚ArgumentsHostæ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„å®ç”¨ç¨‹åºå¯¹è±¡ï¼Œæˆ‘ä»¬å°†åœ¨ "),a("a",{attrs:{href:"https://docs.nestjs.com/fundamentals/execution-context",target:"_blank",rel:"noopener noreferrer"}},[t._v("æ‰§è¡Œä¸Šä¸‹æ–‡ç« èŠ‚"),a("OutboundLink")],1),t._v(" ä¸­è¿›ä¸€æ­¥è¿›è¡Œç ”ç©¶ã€‚åœ¨æ¬¡ä»£ç ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨å®ƒæ¥è·å–å¯¹ "),a("code",[t._v("Request")]),t._v(" å’Œ "),a("code",[t._v("Response")]),t._v(" å¯¹è±¡çš„å¼•ç”¨(åœ¨å¼‚å¸¸å‘ç”Ÿçš„æ§åˆ¶å™¨ä¸­)ã€‚æ­¤ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬åœ¨ "),a("code",[t._v("ArgumentsHost")]),t._v(" ä¸Šä½¿ç”¨äº†ä¸€äº›è¾…åŠ©æ–¹æ³•æ¥è·å–æ‰€éœ€çš„ "),a("code",[t._v("Request")]),t._v(" å’Œ "),a("code",[t._v("Response")]),t._v(" å¯¹è±¡ã€‚æ›´å¤šå…³äº "),a("code",[t._v("ArgumentsHost")]),t._v(" çš„ä»‹ç»è¯·çœ‹ "),a("a",{attrs:{href:"https://docs.nestjs.com/fundamentals/execution-context",target:"_blank",rel:"noopener noreferrer"}},[t._v("ğŸ“š"),a("OutboundLink")],1),t._v("ã€‚")]),t._v(" "),a("p",[t._v("è¾¾åˆ°æ­¤æŠ½è±¡çº§åˆ«çš„åŸå› æ˜¯ "),a("code",[t._v("ArgumentsHost")]),t._v(" åœ¨æ‰€æœ‰ä¸Šä¸‹æ–‡ (ä¾‹å¦‚ï¼Œæˆ‘ä»¬ç°åœ¨æ­£åœ¨ä½¿ç”¨çš„ "),a("code",[t._v("HTTP")]),t._v(" æœåŠ¡å™¨ä¸Šä¸‹æ–‡ï¼Œä»¥åŠå¾®æœåŠ¡å’Œ "),a("code",[t._v("WebSocket")]),t._v(") ä¸­å‡èµ·ä½œç”¨ã€‚åœ¨æ‰§è¡Œä¸Šä¸‹æ–‡ä¸€ç« ä¸­ï¼Œæˆ‘ä»¬å°†çœ‹åˆ°å¦‚ä½•åˆ©ç”¨ "),a("code",[t._v("ArgumentsHost")]),t._v(" åŠå…¶å¸®åŠ©å‡½æ•°çš„å¼ºå¤§åŠŸèƒ½æ¥æ‰§è¡Œä»»ä½•ä¸Šä¸‹æ–‡ã€‚è¿™å°†ä½¿æˆ‘ä»¬èƒ½å¤Ÿç¼–å†™å¯åœ¨æ‰€æœ‰ä¸Šä¸‹æ–‡ä¸­è¿è¡Œçš„é€šç”¨å¼‚å¸¸è¿‡æ»¤å™¨ã€‚")]),t._v(" "),a("h3",{attrs:{id:"ç»‘å®šè¿‡æ»¤å™¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç»‘å®šè¿‡æ»¤å™¨"}},[t._v("#")]),t._v(" ç»‘å®šè¿‡æ»¤å™¨")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬å°†æ–°çš„ "),a("code",[t._v("HttpExceptionFilter")]),t._v(" ç»‘å®šåˆ° "),a("code",[t._v("CatsController")]),t._v(" çš„ "),a("code",[t._v("create()")]),t._v(" æ–¹æ³•ä¸Šã€‚")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("å®˜æ–¹ç¤ºä¾‹")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("cats.controller.ts\n")])])])]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[t._v("@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Post")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("UseFilters")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HttpExceptionFilter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Body")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" createCatDto"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" CreateCatDto")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ForbiddenException")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("æç¤º")]),t._v(" "),a("p",[a("code",[t._v("@UseFilters()")]),t._v(" è£…é¥°å™¨ä» "),a("code",[t._v("@nestjs/common")]),t._v(" åŒ…å¯¼å…¥ã€‚")])]),t._v(" "),a("p",[t._v("æˆ‘ä»¬åœ¨è¿™é‡Œä½¿ç”¨äº† "),a("code",[t._v("@UseFilters()")]),t._v(" è£…é¥°å™¨ã€‚ä¸ "),a("code",[t._v("@Catch()")]),t._v(" è£…é¥°å™¨ç±»ä¼¼ï¼Œå®ƒå¯ä»¥ä½¿ç”¨ä¸€ä¸ªè¿‡æ»¤å™¨å®ä¾‹ï¼Œæˆ–ä»¥é€—å·åˆ†éš”çš„è¿‡æ»¤å™¨å®ä¾‹åˆ—è¡¨ã€‚è¿™é‡Œæˆ‘ä»¬å°±åœ°åˆ›å»ºäº†"),a("code",[t._v("HttpExceptionFilter")]),t._v(" çš„å®ä¾‹ã€‚æˆ–è€…ï¼Œæ‚¨å¯ä»¥ä¼ é€’ç±»(è€Œä¸æ˜¯å®ä¾‹)ï¼Œå°†å®ä¾‹åŒ–è´£ä»»ç•™ç»™æ¡†æ¶ã€‚å¹¶å¯ç”¨ä¾èµ–é¡¹æ³¨å…¥ã€‚")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("å®˜æ–¹ç¤ºä¾‹")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("cats.controller.ts\n")])])])]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[t._v("@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Post")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("UseFilters")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("HttpExceptionFilter"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Body")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" createCatDto"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" CreateCatDto")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ForbiddenException")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("æ³¨æ„")]),t._v(" "),a("p",[t._v("å°½å¯èƒ½ä½¿ç”¨ç±»è€Œä¸æ˜¯å®ä¾‹æ¥åº”ç”¨è¿‡æ»¤å™¨ï¼Œç”±äº "),a("code",[t._v("Nest")]),t._v(" å¯ä»¥è½»æ¾åœ¨æ•´ä¸ªæ¨¡å—ä¸­é‡å¤ä½¿ç”¨åŒä¸€ç±»çš„å®ä¾‹ï¼Œå› æ­¤å¯ä»¥å‡å°‘å†…å­˜ä½¿ç”¨ã€‚")])]),t._v(" "),a("p",[t._v("åœ¨ä¸Šé¢çš„ä¾‹å­é‡Œï¼Œ"),a("code",[t._v("HttpExceptionFilter")]),t._v(" ä»…åº”ç”¨äºå•ä¸ª "),a("code",[t._v("create()")]),t._v(" è·¯ç”±å¤„ç†ç¨‹åºï¼Œä½¿å…¶æˆä¸ºæ–¹æ³•èŒƒå›´ã€‚å¼‚å¸¸è¿‡æ»¤å™¨çš„ä½œç”¨èŒƒå›´å¯ä»¥ä¸åŒï¼Œæ–¹æ³•èŒƒå›´ï¼Œæ§åˆ¶å™¨èŒƒå›´æˆ–å…¨å±€èŒƒå›´ã€‚ ä¾‹å¦‚ï¼Œè¦å°†è¿‡æ»¤å™¨è®¾ç½®ä¸ºæ§åˆ¶å™¨ä½œç”¨åŸŸï¼Œæ‚¨å¯ä»¥æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("å®˜æ–¹ç¤ºä¾‹")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("cats.controller.ts\n")])])])]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[t._v("@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("UseFilters")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HttpExceptionFilter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CatsController")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("æ­¤æ„é€ ä¸º "),a("code",[t._v("CatsController")]),t._v(" å†…éƒ¨å®šä¹‰çš„æ¯ä¸ªè·¯ç”±å¤„ç†ç¨‹åºè®¾ç½® "),a("code",[t._v("HttpExceptionFilter")]),t._v("ã€‚\nè¦åˆ›å»ºå…¨å±€èŒƒå›´çš„è¿‡æ»¤å™¨ï¼Œè¯·æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("å®˜æ–¹ç¤ºä¾‹")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("main.ts\n")])])])]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("bootstrap")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" app "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" NestFactory"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("AppModule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("useGlobalFilters")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HttpExceptionFilter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("listen")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("bootstrap")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("æ³¨æ„")]),t._v(" "),a("p",[a("code",[t._v("useGlobalFilters()")]),t._v(" æ–¹æ³•ä¸ä¼šä¸ºç½‘å…³æˆ–æ··åˆåº”ç”¨ç¨‹åºè®¾ç½®è¿‡æ»¤å™¨ã€‚")])]),t._v(" "),a("p",[t._v("å¯¹äºæ¯ä¸ªæ§åˆ¶å™¨å’Œæ¯ä¸ªè·¯ç”±å¤„ç†ç¨‹åºï¼Œæ•´ä¸ªåº”ç”¨ç¨‹åºéƒ½ä½¿ç”¨å…¨å±€èŒƒå›´çš„è¿‡æ»¤å™¨ã€‚åœ¨ä¾èµ–æ³¨å…¥æ–¹é¢ï¼Œä»ä»»ä½•æ¨¡å—å¤–éƒ¨æ³¨å†Œçš„å…¨å±€è¿‡æ»¤å™¨(å¦‚ä¸Šä¾‹ä¸­ä½¿ç”¨ "),a("code",[t._v("useGlobalFilters()")]),t._v(" )éƒ½ä¸èƒ½æ³¨å…¥ä¾èµ–é¡¹ï¼Œå› ä¸ºå®ƒä»¬ä¸å±äºä»»ä½•æ¨¡å—ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ç»“æ„ç›´æ¥ä»ä»»ä½•æ¨¡å—æ³¨å†Œå…¨å±€èŒƒå›´çš„è¿‡æ»¤å™¨ï¼š")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("å®˜æ–¹ç¤ºä¾‹")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("app.module.ts\n")])])])]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Module "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@nestjs/common'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("APP_FILTER")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@nestjs/core'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Module")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  providers"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      provide"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("APP_FILTER")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      useClass"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" HttpExceptionFilter"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AppModule")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("æç¤º")]),t._v(" "),a("p",[t._v("ä½¿ç”¨æ­¤æ–¹æ³•å¯¹è¿‡æ»¤å™¨æ‰§è¡Œä¾èµ–é¡¹æ³¨å…¥æ—¶ï¼Œè¯·æ³¨æ„ï¼Œæ— è®ºé‡‡ç”¨å“ªç§ç»“æ„çš„æ¨¡å—ï¼Œè¿‡æ»¤å™¨å®é™…ä¸Šéƒ½æ˜¯å…¨å±€çš„ã€‚åº”è¯¥åœ¨å“ªé‡Œåšï¼Ÿé€‰æ‹©å®šä¹‰äº†è¿‡æ»¤å™¨(ä»¥ä¸Šç¤ºä¾‹ä¸­ä¸º "),a("code",[t._v("HttpExceptionFilter")]),t._v(" )çš„æ¨¡å—ã€‚å¦å¤–ï¼Œ"),a("code",[t._v("useClass")]),t._v(" ä¸æ˜¯å¤„ç†è‡ªå®šä¹‰ æä¾›ç¨‹åº æ³¨å†Œçš„å”¯ä¸€æ–¹æ³•ã€‚"),a("a",{attrs:{href:"https://docs.nestjs.com/fundamentals/custom-providers",target:"_blank",rel:"noopener noreferrer"}},[t._v("äº†è§£æ›´å¤š"),a("OutboundLink")],1)])]),t._v(" "),a("p",[t._v("æ‚¨å¯ä»¥æ ¹æ®éœ€è¦ä½¿ç”¨æ­¤æŠ€æœ¯æ·»åŠ ä»»æ„æ•°é‡çš„è¿‡æ»¤å™¨ï¼Œåªéœ€å°†æ¯ä¸ªè¿‡æ»¤å™¨æ·»åŠ åˆ° "),a("code",[t._v("provider")]),t._v(" æ•°ç»„å³å¯ã€‚")]),t._v(" "),a("h3",{attrs:{id:"å¼‚å¸¸æ•è·"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¼‚å¸¸æ•è·"}},[t._v("#")]),t._v(" å¼‚å¸¸æ•è·")]),t._v(" "),a("p",[t._v("ä¸ºäº†æ•è·æ‰€æœ‰æœªå¤„ç†çš„å¼‚å¸¸(æ— è®ºå¼‚å¸¸ç±»å‹å¦‚ä½•)ï¼Œå°† "),a("code",[t._v("@Catch()")]),t._v(" è£…é¥°å™¨çš„å‚æ•°åˆ—è¡¨ä¿ç•™ä¸ºç©ºï¼Œä¾‹å¦‚ "),a("code",[t._v("@Catch()")]),t._v("ã€‚")]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  ExceptionFilter"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  Catch"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  ArgumentsHost"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  HttpException"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  HttpStatus"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@nestjs/common'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Catch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AllExceptionsFilter")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ExceptionFilter")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("exception"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("unknown")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" host"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ArgumentsHost"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" ctx "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" host"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("switchToHttp")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" response "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ctx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getResponse")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" request "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ctx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getRequest")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" status "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("\n      exception "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("instanceof")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HttpException")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" exception"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getStatus")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" HttpStatus"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("INTERNAL_SERVER_ERROR")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("status")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("status"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("json")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      statusCode"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" status"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      timestamp"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Date")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("toISOString")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      path"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œè¿‡æ»¤å™¨å°†æ•è·å¼•å‘çš„æ¯ä¸ªå¼‚å¸¸ï¼Œæ— è®ºå…¶ç±»å‹(ç±»)å¦‚ä½•ã€‚")]),t._v(" "),a("h3",{attrs:{id:"ç»§æ‰¿"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç»§æ‰¿"}},[t._v("#")]),t._v(" ç»§æ‰¿")]),t._v(" "),a("p",[t._v("é€šå¸¸ï¼Œæ‚¨å°†åˆ›å»ºå®Œå…¨å®šåˆ¶çš„å¼‚å¸¸è¿‡æ»¤å™¨ï¼Œä»¥æ»¡è¶³æ‚¨çš„åº”ç”¨ç¨‹åºéœ€æ±‚ã€‚å¦‚æœæ‚¨å¸Œæœ›é‡ç”¨å·²ç»å®ç°çš„æ ¸å¿ƒå¼‚å¸¸è¿‡æ»¤å™¨ï¼Œå¹¶åŸºäºæŸäº›å› ç´ é‡å†™è¡Œä¸ºï¼Œè¯·çœ‹ä¸‹é¢çš„ä¾‹å­ã€‚")]),t._v(" "),a("p",[t._v("ä¸ºäº†å°†å¼‚å¸¸å¤„ç†å§”æ‰˜ç»™åŸºæœ¬è¿‡æ»¤å™¨ï¼Œæ‚¨éœ€è¦æ‰©å±• "),a("code",[t._v("BaseExceptionFilter")]),t._v(" å¹¶è°ƒç”¨ç»§æ‰¿çš„ "),a("code",[t._v("catch()")]),t._v(" æ–¹æ³•ã€‚")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("å®˜æ–¹ç¤ºä¾‹")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("all-exceptions.filter.ts\n")])])])]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Catch"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ArgumentsHost "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@nestjs/common'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" BaseExceptionFilter "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@nestjs/core'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Catch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AllExceptionsFilter")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BaseExceptionFilter")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("exception"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("unknown")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" host"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ArgumentsHost"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("exception"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" host"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("æ³¨æ„")]),t._v(" "),a("p",[t._v("æ‰©å±• "),a("code",[t._v("BaseExceptionFilter")]),t._v(" çš„æ–¹æ³•èŒƒå›´å’Œæ§åˆ¶å™¨èŒƒå›´çš„ç­›é€‰å™¨ä¸åº”ä½¿ç”¨ "),a("code",[t._v("new")]),t._v(" å®ä¾‹åŒ–ã€‚ç›¸åï¼Œå› è¯¥è®©æ¡†æ¶è‡ªåŠ¨å®ä¾‹åŒ–å®ƒä»¬ã€‚")])]),t._v(" "),a("p",[t._v("ä¸Šé¢çš„å®ç°åªæ˜¯ä¸€ä¸ªå±•ç¤ºæ–¹æ³•çš„æ¼”ç¤ºï¼Œå¯¹æ‰©å±•å¼‚å¸¸è¿‡æ»¤å™¨çš„å®ç°ï¼ŒåŒ…æ‹¬é‡èº«å®šåˆ¶çš„ä¸šåŠ¡é€»è¾‘(ä¾‹å¦‚ï¼Œå„ç§å¤„ç†æ¡ä»¶)ã€‚")]),t._v(" "),a("p",[t._v("å…¨å±€è¿‡æ»¤å™¨å¯ä»¥æ‰©å±•åŸºæœ¬è¿‡æ»¤å™¨ã€‚ è¿™å¯ä»¥é€šè¿‡ä¸¤ç§æ–¹å¼ä¹‹ä¸€æ¥å®Œæˆã€‚")]),t._v(" "),a("p",[t._v("ç¬¬ä¸€ç§æ–¹æ³•æ˜¯åœ¨å®ä¾‹åŒ–è‡ªå®šä¹‰å…¨å±€è¿‡æ»¤å™¨æ—¶æ³¨å…¥ "),a("code",[t._v("HttpServer")]),t._v(" ï¼Œå‚è€ƒç¤ºä¾‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("bootstrap")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" app "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" NestFactory"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("AppModule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" httpAdapter "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("HttpAdapterHost"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("useGlobalFilters")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AllExceptionsFilter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("httpAdapter"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("listen")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("bootstrap")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("ç¬¬äºŒç§æ–¹æ³•æ˜¯ä½¿ç”¨ "),a("code",[t._v("APP_FILTER")]),t._v(" ä»¤ç‰Œï¼Œ"),a("a",{attrs:{href:"https://docs.nestjs.com/exception-filters#binding-filters",target:"_blank",rel:"noopener noreferrer"}},[t._v("æŸ¥çœ‹è¯¦æƒ…"),a("OutboundLink")],1),t._v("ã€‚")]),t._v(" "),a("h2",{attrs:{id:"ç®¡é“"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç®¡é“"}},[t._v("#")]),t._v(" ç®¡é“")]),t._v(" "),a("p",[t._v("ç®¡é“æ˜¯ç”¨ "),a("code",[t._v("@Injectable()")]),t._v(" è£…é¥°å™¨æ³¨é‡Šçš„ç±»ã€‚ ç®¡é“åº”å®ç° "),a("code",[t._v("PipeTransform")]),t._v(" æ¥å£ã€‚")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://docs.nestjs.com/assets/Pipe_1.png",alt:"img",title:"ç®¡é“"}})]),t._v(" "),a("p",[t._v("ç®¡é“æœ‰ä¸¤ä¸ªå…¸å‹çš„ç”¨ä¾‹ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("è½¬æ¢ï¼šå°†è¾“å…¥æ•°æ®è½¬æ¢ä¸ºæ‰€éœ€çš„æ ¼å¼ (ä¾‹å¦‚ï¼Œä»å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•´æ•°)")]),t._v(" "),a("li",[t._v("éªŒè¯ï¼šè¯„ä¼°è¾“å…¥æ•°æ®ï¼Œå¦‚æœæœ‰æ•ˆï¼Œåªéœ€å°†å…¶åŸæ ·ä¼ é€’å³å¯ã€‚å¦åˆ™ï¼Œå½“æ•°æ®ä¸æ­£ç¡®æ—¶æŠ›å‡ºå¼‚å¸¸ã€‚")])]),t._v(" "),a("p",[t._v("åœ¨è¿™ä¸¤ç§æƒ…å†µä¸‹ï¼Œç®¡é“ "),a("code",[t._v("å‚æ•°(arguments)")]),t._v(" å¯¹ç”±"),a("a",{attrs:{href:"https://docs.nestjs.com/controllers#route-parameters",target:"_blank",rel:"noopener noreferrer"}},[t._v("æ§åˆ¶å™¨è·¯ç”±å¤„ç†ç¨‹åº"),a("OutboundLink")],1),t._v("å¤„ç†çš„å‚æ•°è¿›è¡Œæ“ä½œã€‚"),a("code",[t._v("Nest")]),t._v(" ä¼šåœ¨è°ƒç”¨æ–¹æ³•ä¹‹å‰æ’å…¥ç®¡é“ï¼Œç„¶åç®¡é“æ¥æ”¶æŒ‡å®šç»™è¯¥æ–¹æ³•çš„å‚æ•°å¹¶å¯¹å…¶è¿›è¡Œæ“ä½œã€‚é‚£æ—¶å°†è¿›è¡Œä»»ä½•è½¬æ¢æˆ–éªŒè¯æ“ä½œï¼Œç„¶åä½¿ç”¨è½¬æ¢åçš„å‚æ•°è°ƒç”¨è·¯ç”±å¤„ç†ç¨‹åºã€‚")]),t._v(" "),a("p",[t._v("Nestè‡ªå¸¦äº†è®¸å¤šå†…ç½®ç®¡é“ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨å®ƒä»¬ï¼Œæ‚¨è¿˜å¯ä»¥æ„å»ºè‡ªå·±çš„ç®¡é“ï¼Œæœ¬ç« å°†ä»‹ç»å†…ç½®ç®¡é“ï¼Œå¹¶å±•ç¤ºå¦‚ä½•å°†å®ƒä»¬ç»‘å®šåˆ°è·¯ç”±å¤„ç†ç¨‹åºã€‚ä¹‹åï¼Œæˆ‘ä»¬å°†ç ”ç©¶å‡ ä¸ªå®šåˆ¶ç®¡é“ï¼Œä»¥æ˜¾ç¤ºå¦‚ä½•ä»å¤´å¼€å§‹æ„å»ºã€‚")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("æç¤º")]),t._v(" "),a("p",[t._v("ç®¡é“åœ¨å¼‚å¸¸åŒºåŸŸå†…è¿è¡Œã€‚è¿™æ„å‘³ç€ï¼Œå½“ç®¡é“å¼•å‘å¼‚å¸¸æ—¶ï¼Œå°†ç”±å¼‚å¸¸å±‚å¤„ç†(å…¨å±€å¼‚å¸¸è¿‡æ»¤å™¨å’Œåº”ç”¨äºå½“å‰ä¸Šä¸‹æ–‡çš„æ‰€æœ‰å¼‚å¸¸è¿‡æ»¤å™¨)ã€‚é‰´äºä»¥ä¸Šæ‰€è¿°ï¼Œåº”è¯¥æ¸…æ¥šçš„æ˜¯ï¼Œå½“åœ¨ "),a("code",[t._v("Pipe")]),t._v(" ä¸­å¼•å‘å¼‚å¸¸æ—¶ï¼Œéšåå°†ä¸æ‰§è¡Œä»»ä½•æ§åˆ¶å™¨æ–¹æ³•ã€‚è¿™ä¸ºæ‚¨æä¾›äº†ä¸€ç§æœ€ä½³å®è·µæ–¹æ³•ï¼Œç”¨äºéªŒè¯ä»ç³»ç»Ÿè¾¹ç•Œå¤„çš„å¤–éƒ¨æºè¿›å…¥åº”ç”¨ç¨‹åºçš„æ•°æ®ã€‚")])]),t._v(" "),a("h3",{attrs:{id:"å†…ç½®ç®¡é“"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å†…ç½®ç®¡é“"}},[t._v("#")]),t._v(" å†…ç½®ç®¡é“")]),t._v(" "),a("p",[a("code",[t._v("Nest")]),t._v(" è‡ªå¸¦äº†å…­ä¸ªå¯ç”¨çš„ç°æˆç®¡é“ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("ValidationPipe")]),t._v(" "),a("li",[t._v("ParseIntPipe")]),t._v(" "),a("li",[t._v("ParseBoolPipe")]),t._v(" "),a("li",[t._v("ParseArrayPipe")]),t._v(" "),a("li",[t._v("ParseUUIDPipe")]),t._v(" "),a("li",[t._v("DefaultValuePipe")])]),t._v(" "),a("p",[t._v("å®ƒä»¬æ˜¯ä» "),a("code",[t._v("@nestjs/common")]),t._v(" åŒ…å¯¼å‡ºçš„ã€‚")]),t._v(" "),a("p",[t._v("è®©æˆ‘ä»¬å¿«é€Ÿçœ‹ä¸€ä¸‹ä½¿ç”¨ "),a("code",[t._v("ParseIntPipe")]),t._v(" çš„æ–¹æ³•ã€‚è¿™æ˜¯è½¬æ¢ç”¨ä¾‹çš„ç¤ºä¾‹ï¼Œå…¶ä¸­ç®¡é“ç¡®ä¿å°†æ–¹æ³•å¤„ç†ç¨‹åºå‚æ•°è½¬æ¢ä¸º "),a("code",[t._v("JavaScript")]),t._v(" æ•´æ•°(è‹¥è½¬æ¢å¤±è´¥åˆ™æŠ›å‡ºå¼‚å¸¸)ã€‚åœ¨æœ¬ç« çš„åé¢ï¼Œæˆ‘ä»¬å°†å±•ç¤ºä¸€ä¸ª "),a("code",[t._v("ParseIntPipe")]),t._v(" çš„è‡ªå®šä¹‰ç®€å•å®ç°ã€‚ä»¥ä¸‹ç¤ºä¾‹æŠ€æœ¯ä¹Ÿé€‚ç”¨äºå…¶ä»–å†…ç½®çš„è½¬æ¢ç®¡é“ ("),a("code",[t._v("ParseBoolPipe")]),t._v("ï¼Œ"),a("code",[t._v("ParseArrayPipe")]),t._v(" å’Œ "),a("code",[t._v("ParseUUIDPipe")]),t._v("ï¼Œæœ¬ç« ä¸­å°†å…¶ç§°ä¸º "),a("code",[t._v("Parse*")]),t._v(" ç®¡é“)ã€‚")]),t._v(" "),a("h3",{attrs:{id:"ç»‘å®šç®¡é“"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç»‘å®šç®¡é“"}},[t._v("#")]),t._v(" ç»‘å®šç®¡é“")]),t._v(" "),a("p",[t._v("è¦ä½¿ç”¨ç®¡é“ï¼Œæˆ‘ä»¬éœ€è¦å°†ç®¡é“ç±»çš„å®ä¾‹ç»‘å®šåˆ°é€‚å½“çš„ä¸Šä¸‹æ–‡ã€‚åœ¨æˆ‘ä»¬çš„ "),a("code",[t._v("ParseIntPipe")]),t._v(" ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å¸Œæœ›å°†ç®¡é“ä¸ç‰¹å®šçš„è·¯çº¿å¤„ç†ç¨‹åºæ–¹æ³•ç›¸å…³è”ï¼Œå¹¶ç¡®ä¿å®ƒåœ¨è°ƒç”¨è¯¥æ–¹æ³•ä¹‹å‰è¿è¡Œã€‚ä½¿ç”¨ä»¥ä¸‹æ„é€ å®ç°æ­¤ç›®çš„ï¼Œæˆ‘ä»¬å°†å…¶ç§°ä¸ºåœ¨æ–¹æ³•å‚æ•°çº§åˆ«ç»‘å®šç®¡é“ï¼š")]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[t._v("@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("':id'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("findOne")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Param")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'id'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ParseIntPipe"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("number")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("catsService"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("findOne")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("è¿™æ ·å¯ä»¥ç¡®ä¿æ»¡è¶³ä»¥ä¸‹ä¸¤ä¸ªæ¡ä»¶ä¹‹ä¸€ï¼šæˆ‘ä»¬åœ¨ "),a("code",[t._v("findOne()")]),t._v(" æ–¹æ³•ä¸­æ”¶åˆ°çš„å‚æ•°æ˜¯ä¸€ä¸ªæ•°å­— (æ­£å¦‚æˆ‘ä»¬å¯¹ "),a("code",[t._v("this.catsService.findOne()")]),t._v(" çš„è°ƒç”¨æ‰€æœŸæœ›çš„é‚£æ ·)ï¼Œæˆ–è€…åœ¨è°ƒç”¨è·¯ç”±å¤„ç†ç¨‹åºä¹‹å‰å¼•å‘äº†å¼‚å¸¸ã€‚")]),t._v(" "),a("p",[t._v("ä¾‹å¦‚ï¼Œå‡è®¾è·¯ç”±çš„åç§°å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("  GET localhost:3000/abc\n")])])]),a("p",[t._v("Nestå°†å¼•å‘å¦‚ä¸‹å¼‚å¸¸ï¼š")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"statusCode"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("400")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"message"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Validation failed (numeric string is expected)"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"error"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Bad Request"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("è¯¥å¼‚å¸¸å°†é˜»æ­¢ "),a("code",[t._v("findOne()")]),t._v(" æ–¹æ³•çš„ä¸»ä½“æ‰§è¡Œã€‚åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä¼ é€’äº†ä¸€ä¸ªç±» "),a("code",[t._v("(ParseIntPipe)")]),t._v("ï¼Œè€Œä¸æ˜¯å®ä¾‹ï¼Œå°†å®ä¾‹åŒ–è´£ä»»ç•™ç»™äº†æ¡†æ¶å¹¶å¯ç”¨äº†ä¾èµ–æ³¨å…¥ã€‚ä¸ç®¡é“å’Œé˜²æŠ¤ä¸€æ ·ï¼Œæˆ‘ä»¬å¯ä»¥ä¼ é€’å†…ç½®å®ä¾‹ã€‚å¦‚æœæˆ‘ä»¬è¦é€šè¿‡ä¼ é€’é€‰é¡¹æ¥è‡ªå®šä¹‰å†…ç½®ç®¡é“çš„è¡Œä¸ºï¼Œåˆ™ä¼ é€’å†…ç½®å®ä¾‹å°±éå¸¸æœ‰ç”¨ï¼š")]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[t._v("@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("':id'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("findOne")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  @"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Param")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'id'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ParseIntPipe")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" errorHttpStatusCode"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" HttpStatus"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("NOT_ACCEPTABLE")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("number")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("catsService"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("findOne")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("ç»‘å®šå…¶ä»–è½¬æ¢ç®¡é“(æ‰€æœ‰ "),a("code",[t._v("Parse*")]),t._v(" ç®¡é“ï¼‰çš„å·¥ä½œæ–¹å¼ç›¸ä¼¼ã€‚è¿™äº›ç®¡é“éƒ½åœ¨éªŒè¯è·¯ç”±å‚æ•°ï¼ŒæŸ¥è¯¢å­—ç¬¦ä¸²å‚æ•°å’Œè¯·æ±‚æ­£æ–‡å€¼çš„ä¸Šä¸‹æ–‡ä¸­å·¥ä½œã€‚")]),t._v(" "),a("p",[t._v("ä¾‹å¦‚ï¼Œå¸¦æœ‰æŸ¥è¯¢å­—ç¬¦ä¸²å‚æ•°ï¼š")]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[t._v("@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("findOne")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Query")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'id'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ParseIntPipe"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("number")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("catsService"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("findOne")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("è¿™æ˜¯ä¸€ä¸ªä½¿ç”¨ "),a("code",[t._v("ParseUUIDPipe")]),t._v(" è§£æå­—ç¬¦ä¸²å‚æ•°å¹¶éªŒè¯å…¶æ˜¯å¦ä¸º "),a("code",[t._v("UUID")]),t._v(" çš„ç¤ºä¾‹ã€‚")]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[t._v("@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("':uuid'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("findOne")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Param")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'uuid'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ParseUUIDPipe")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" uuid"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("catsService"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("findOne")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("uuid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("æç¤º")]),t._v(" "),a("p",[t._v("ä½¿ç”¨ "),a("code",[t._v("ParseUUIDPipe()")]),t._v(" æ—¶ï¼Œæ‚¨æ­£åœ¨è§£æç‰ˆæœ¬3ã€4æˆ–5ä¸­çš„ "),a("code",[t._v("UUID")]),t._v("ï¼Œå¦‚æœä»…éœ€è¦ç‰¹å®šç‰ˆæœ¬çš„ "),a("code",[t._v("UUID")]),t._v("ï¼Œåˆ™å¯ä»¥åœ¨ç®¡é“é€‰é¡¹ä¸­ä¼ é€’ä¸€ä¸ªç‰ˆæœ¬ã€‚")])]),t._v(" "),a("p",[t._v("ä¸Šé¢æˆ‘ä»¬çœ‹åˆ°äº†ç»‘å®šå„ç§ "),a("code",[t._v("Parse*")]),t._v(" ç³»åˆ—å†…ç½®ç®¡é“çš„ç¤ºä¾‹ï¼Œç»‘å®šéªŒè¯ç®¡é“ç•¥æœ‰ä¸åŒï¼› æˆ‘ä»¬å°†åœ¨ä¸‹ä¸€èŠ‚ä¸­è®¨è®ºã€‚")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("æç¤º")]),t._v(" "),a("p",[t._v("å¦å¤–ï¼Œè¯·å‚é˜…"),a("a",{attrs:{href:"https://docs.nestjs.com/techniques/validation",target:"_blank",rel:"noopener noreferrer"}},[t._v("éªŒè¯æŠ€æœ¯"),a("OutboundLink")],1),t._v("ä»¥è·å–éªŒè¯ç®¡é“çš„å¹¿æ³›ç¤ºä¾‹ã€‚")])]),t._v(" "),a("h3",{attrs:{id:"å®šåˆ¶ç®¡é“"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å®šåˆ¶ç®¡é“"}},[t._v("#")]),t._v(" å®šåˆ¶ç®¡é“")]),t._v(" "),a("p",[t._v("å¦‚ä¸Šæ‰€è¿°ï¼Œæ‚¨å¯ä»¥æ„å»ºè‡ªå·±çš„è‡ªå®šä¹‰ç®¡é“ï¼Œè™½ç„¶ "),a("code",[t._v("Nest")]),t._v(" æä¾›äº†å¼ºå¤§çš„å†…ç½® "),a("code",[t._v("ParseIntPipe")]),t._v(" å’Œ "),a("code",[t._v("ValidationPipe")]),t._v("ï¼Œä½†è®©æˆ‘ä»¬ä»å¤´å¼€å§‹æ„å»ºæ¯ä¸ªçš„ç®€å•è‡ªå®šä¹‰ç‰ˆæœ¬ï¼Œä»¥äº†è§£å¦‚ä½•æ„é€ è‡ªå®šä¹‰ç®¡é“ã€‚")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬ä»ä¸€ä¸ªç®€å•çš„ "),a("code",[t._v("ValidationPipe")]),t._v(" å¼€å§‹ã€‚æœ€åˆï¼Œæˆ‘ä»¬å°†è®©å®ƒç®€å•åœ°é‡‡ç”¨ä¸€ä¸ªè¾“å…¥å€¼ï¼Œå¹¶ç«‹å³è¿”å›ç›¸åŒçš„å€¼ï¼Œå°±åƒä¸€ä¸ªèº«ä»½å‡½æ•°ä¸€æ ·ã€‚")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("å®˜æ–¹ç¤ºä¾‹")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("validation.pipe.ts\n")])])])]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" PipeTransform"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Injectable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ArgumentMetadata "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@nestjs/common'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Injectable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ValidationPipe")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PipeTransform")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("transform")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("any")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" metadata"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ArgumentMetadata")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("æç¤º")]),t._v(" "),a("p",[a("code",[t._v("PipeTransform <Tï¼ŒR>")]),t._v(" æ˜¯ä¸€ä¸ªé€šç”¨æ¥å£ï¼Œå¿…é¡»ç”±ä»»ä½•ç®¡é“å®ç°ï¼Œé€šç”¨æ¥å£ä½¿ç”¨ "),a("code",[t._v("T")]),t._v(" æŒ‡ç¤ºè¾“å…¥å€¼çš„ç±»å‹ï¼Œå¹¶ä½¿ç”¨ "),a("code",[t._v("R")]),t._v(" æŒ‡ç¤º "),a("code",[t._v("transform()")]),t._v(" æ–¹æ³•çš„è¿”å›ç±»å‹ã€‚")])]),t._v(" "),a("p",[t._v("æ¯ä¸ªç®¡é“éƒ½å¿…é¡»å®ç° "),a("code",[t._v("transform()")]),t._v(" æ–¹æ³•ä»¥å®ç° "),a("code",[t._v("PipeTransform")]),t._v(" æ¥å£åå®šã€‚æ­¤æ–¹æ³•æœ‰ä¸¤ä¸ªå‚æ•°ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("value")]),t._v(" "),a("li",[t._v("metadata")])]),t._v(" "),a("p",[a("code",[t._v("value")]),t._v(" å‚æ•°æ˜¯å½“å‰å¤„ç†çš„æ–¹æ³•å‚æ•°(åœ¨é€šè¿‡è·¯ç”±å¤„ç†æ–¹æ³•æ¥æ”¶ä¹‹å‰)ï¼Œ"),a("code",[t._v("å…ƒæ•°æ®")]),t._v(" æ˜¯å½“å‰å¤„ç†çš„æ–¹æ³•å‚æ•°çš„å…ƒæ•°æ®ã€‚å…ƒæ•°æ®å¯¹è±¡å…·æœ‰ä»¥ä¸‹å±æ€§ï¼š")]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ArgumentMetadata")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'body'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'query'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'param'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'custom'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  metatype"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("unknown")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  data"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("è¿™äº›å±æ€§æè¿°äº†å½“å‰å¤„ç†çš„å‚æ•°ã€‚")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("å±æ€§")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("æè¿°")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("type")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("æŒ‡ç¤ºå‚æ•°æ˜¯æ­£æ–‡ "),a("code",[t._v("@Body()")]),t._v("ï¼ŒæŸ¥è¯¢ "),a("code",[t._v("@Query()")]),t._v("ï¼Œå‚æ•° "),a("code",[t._v("@Param()")]),t._v(" è¿˜æ˜¯è‡ªå®šä¹‰å‚æ•°("),a("a",{attrs:{href:"https://docs.nestjs.com/custom-decorators",target:"_blank",rel:"noopener noreferrer"}},[t._v("åœ¨æ­¤å¤„äº†è§£æ›´å¤š"),a("OutboundLink")],1),t._v(")ã€‚")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("metatype")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("æä¾›å‚æ•°çš„å…ƒç±»å‹ï¼Œä¾‹å¦‚ "),a("code",[t._v("String")]),t._v("ã€‚æ³¨æ„ï¼šå¦‚æœæ‚¨åœ¨è·¯ç”±å¤„ç†ç¨‹åºæ–¹æ³•ç­¾åä¸­çœç•¥ç±»å‹å£°æ˜ï¼Œæˆ–è€…ä½¿ç”¨åŸå§‹ "),a("code",[t._v("JavaScript")]),t._v("ï¼Œåˆ™è¯¥å€¼æ˜¯ä¸ç¡®å®šçš„ã€‚")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("data")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("ä¼ é€’ç»™è£…é¥°å™¨çš„å­—ç¬¦ä¸²ï¼Œä¾‹å¦‚ï¼Œ"),a("code",[t._v("@Body('string')")]),t._v("ã€‚å¦‚æœå°†ä¿®é¥°ç¬¦æ‹¬å·ç•™ç©ºï¼Œåˆ™æœªå®šä¹‰ã€‚")])])])]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("æ³¨æ„")]),t._v(" "),a("p",[a("code",[t._v("TypeScript")]),t._v(" æ¥å£åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­æ¶ˆå¤±ã€‚ å› æ­¤ï¼Œå¦‚æœå°†æ–¹æ³•å‚æ•°çš„ç±»å‹å£°æ˜ä¸ºæ¥å£è€Œä¸æ˜¯ç±»ï¼Œåˆ™è¯¥ "),a("code",[t._v("å…ƒç±»å‹")]),t._v("å€¼å°†ä¸º "),a("code",[t._v("Object")]),t._v("ã€‚")])]),t._v(" "),a("h3",{attrs:{id:"åŸºäºæ¶æ„çš„éªŒè¯"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åŸºäºæ¶æ„çš„éªŒè¯"}},[t._v("#")]),t._v(" åŸºäºæ¶æ„çš„éªŒè¯")]),t._v(" "),a("p",[t._v("è®©æˆ‘ä»¬ä½¿éªŒè¯ç®¡é“æ›´æœ‰ç”¨ã€‚ä»”ç»†è§‚å¯Ÿ "),a("code",[t._v("CatsController")]),t._v(" çš„ "),a("code",[t._v("create()")]),t._v(" æ–¹æ³•ï¼Œåœ¨å°è¯•è¿è¡Œæˆ‘ä»¬çš„æœåŠ¡æ–¹æ³•ä¹‹å‰ï¼Œæˆ‘ä»¬å¯èƒ½å¸Œæœ›ç¡®ä¿å…¶ä¸­çš„ "),a("code",[t._v("post")]),t._v(" ä¸»ä½“å¯¹è±¡æœ‰æ•ˆã€‚")]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[t._v("@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Post")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Body")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" createCatDto"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" CreateCatDto")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("catsService"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("createCatDto"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("è®©æˆ‘ä»¬ä¸“æ³¨äº "),a("code",[t._v("createCatDto")]),t._v(" ä¸»ä½“å‚æ•°ã€‚å®ƒçš„ç±»å‹æ˜¯ "),a("code",[t._v("CreateCatDto")]),t._v("ï¼š")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("å®˜æ–¹ç¤ºä¾‹")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("create-cat.dto.ts\n")])])])]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CreateCatDto")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  age"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("number")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  breed"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("æˆ‘ä»¬è¦ç¡®ä¿å¯¹ "),a("code",[t._v("create")]),t._v(" æ–¹æ³•çš„ä»»ä½•ä¼ å…¥è¯·æ±‚å‡åŒ…å«æœ‰æ•ˆä¸»ä½“ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¿…é¡»éªŒè¯  "),a("code",[t._v("createCatDto")]),t._v(" å¯¹è±¡çš„ä¸‰ä¸ªæˆå‘˜ã€‚æˆ‘ä»¬å¯ä»¥åœ¨è·¯ç”±å¤„ç†ç¨‹åºæ–¹æ³•ä¸­æ‰§è¡Œæ­¤æ“ä½œï¼Œä½†æ˜¯è¿™æ ·åšå¹¶ä¸ç†æƒ³ï¼Œå› ä¸ºå®ƒä¼šç ´åå•ä¸€è´£ä»»è§„åˆ™(SRP)ã€‚")]),t._v(" "),a("p",[t._v("å¦ä¸€ç§æ–¹æ³•å¯èƒ½æ˜¯åˆ›å»ºä¸€ä¸ªéªŒè¯å™¨ç±»å¹¶åœ¨é‚£é‡Œå§”æ‰˜ä»»åŠ¡ã€‚è¿™æ ·åšçš„ç¼ºç‚¹æ˜¯ï¼Œæˆ‘ä»¬å¿…é¡»è®°ä½åœ¨æ¯ä¸ªæ–¹æ³•çš„å¼€å¤´éƒ½è°ƒç”¨æ­¤éªŒè¯å™¨ã€‚å¦‚ä½•åˆ›å»ºéªŒè¯ä¸­é—´ä»¶ï¼Ÿè¿™å¯èƒ½æœ‰æ•ˆï¼Œä½†æ˜¯ï¼Œä¸å¯èƒ½åˆ›å»ºå¯åœ¨æ•´ä¸ªåº”ç”¨ç¨‹åºçš„æ‰€æœ‰ä¸Šä¸‹æ–‡ä¸­ä½¿ç”¨çš„"),a("strong",[t._v("é€šç”¨ä¸­é—´ä»¶")]),t._v("ã€‚è¿™æ˜¯å› ä¸ºä¸­é—´ä»¶ä¸çŸ¥é“æ‰§è¡Œä¸Šä¸‹æ–‡ï¼ŒåŒ…æ‹¬å°†è¢«è°ƒç”¨çš„å¤„ç†ç¨‹åºåŠå…¶ä»»ä½•å‚æ•°ã€‚")]),t._v(" "),a("p",[t._v("å½“ç„¶ï¼Œè¿™æ­£æ˜¯è®¾è®¡ç®¡é“çš„ç”¨æ„ã€‚ å› æ­¤ï¼Œè®©æˆ‘ä»¬ç»§ç»­å®Œå–„éªŒè¯ç®¡é“ã€‚")]),t._v(" "),a("h3",{attrs:{id:"å¯¹è±¡æ¶æ„éªŒè¯"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¯¹è±¡æ¶æ„éªŒè¯"}},[t._v("#")]),t._v(" å¯¹è±¡æ¶æ„éªŒè¯")]),t._v(" "),a("p",[t._v("æœ‰å‡ ç§æ–¹æ³•å¯ç”¨äºè¿›è¡Œå¹²å‡€çš„å¯¹è±¡éªŒè¯ï¼Œä¸€ç§å¸¸è§çš„æ–¹æ³•æ˜¯ä½¿ç”¨åŸºäºæ¶æ„çš„éªŒè¯ã€‚ è®©æˆ‘ä»¬ç»§ç»­å°è¯•è¿™ç§æ–¹æ³•ã€‚")]),t._v(" "),a("p",[t._v("é€šè¿‡  "),a("code",[t._v("Joiåº“")]),t._v("ï¼Œæ‚¨å¯ä»¥ç›´æ¥åˆ›å»ºå…·æœ‰å¯è¯»æ€§çš„APIã€‚ è®©æˆ‘ä»¬æ„å»ºä¸€ä¸ªä½¿ç”¨åŸºäº "),a("code",[t._v("Joi")]),t._v(" çš„æ¶æ„çš„éªŒè¯ç®¡é“ã€‚")]),t._v(" "),a("p",[t._v("é¦–å…ˆå®‰è£…æ‰€éœ€çš„è½¯ä»¶åŒ…ï¼š")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" --save @hapi/joi\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" --save-dev @types/hapi__joi\n")])])]),a("p",[t._v("åœ¨ä¸‹é¢çš„ä»£ç ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªç®€å•çš„ç±»ï¼Œè¯¥ç±»å°†æ¨¡å¼ä½œä¸ºæ„é€ å‡½æ•°å‚æ•°ã€‚ç„¶åï¼Œæˆ‘ä»¬åº”ç”¨ "),a("code",[t._v("schema.validate()")]),t._v(" æ–¹æ³•ï¼Œè¯¥æ–¹æ³•é’ˆå¯¹æä¾›çš„æ¨¡å¼éªŒè¯ä¼ å…¥çš„å‚æ•°ã€‚")]),t._v(" "),a("p",[t._v("å¦‚ä¸Šæ‰€è¿°ï¼ŒéªŒè¯ç®¡é“è¦ä¹ˆè¿”å›å€¼ä¸å˜ï¼Œè¦ä¹ˆæŠ›å‡ºå¼‚å¸¸ã€‚")]),t._v(" "),a("p",[t._v("åœ¨ä¸‹ä¸€èŠ‚ä¸­ï¼Œæ‚¨å°†çœ‹åˆ°æˆ‘ä»¬å¦‚ä½•ä½¿ç”¨ "),a("code",[t._v("@UsePipes()")]),t._v(" è£…é¥°å™¨ä¸ºç»™å®šçš„æ§åˆ¶å™¨æ–¹æ³•æä¾›é€‚å½“çš„æ¶æ„ã€‚è¿™æ ·åšä½¿æˆ‘ä»¬çš„éªŒè¯ç®¡é“å¯ä»¥è·¨ä¸Šä¸‹æ–‡é‡ç”¨ã€‚")]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" PipeTransform"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Injectable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ArgumentMetadata"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" BadRequestException "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@nestjs/common'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" ObjectSchema "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@hapi/joi'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Injectable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("JoiValidationPipe")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PipeTransform")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("constructor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" schema"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ObjectSchema")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("transform")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("any")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" metadata"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ArgumentMetadata")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" error "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("schema"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("validate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("error"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BadRequestException")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Validation failed'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"ç»‘å®šéªŒè¯ç®¡é“"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç»‘å®šéªŒè¯ç®¡é“"}},[t._v("#")]),t._v(" ç»‘å®šéªŒè¯ç®¡é“")]),t._v(" "),a("p",[t._v("ä¹‹å‰ï¼Œæˆ‘ä»¬çœ‹åˆ°äº†å¦‚ä½•ç»‘å®šè½¬æ¢ç®¡é“(ä¾‹å¦‚ "),a("code",[t._v("ParseIntPipe")]),t._v(" å’Œå…¶ä½™çš„ "),a("code",[t._v("Parse*")]),t._v(" ç®¡é“)ã€‚")]),t._v(" "),a("p",[t._v("ç»‘å®šéªŒè¯ç®¡é“ä¹Ÿéå¸¸ç®€å•ã€‚")]),t._v(" "),a("p",[t._v("åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬è¦åœ¨æ–¹æ³•è°ƒç”¨çº§åˆ«ç»‘å®šç®¡é“ã€‚åœ¨å½“å‰ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬éœ€è¦æ‰§è¡Œä»¥ä¸‹æ“ä½œæ‰èƒ½ä½¿ç”¨ "),a("code",[t._v("JoiValidationPipe")]),t._v("ï¼š\n1ã€åˆ›å»º "),a("code",[t._v("JoiValidationPipe")]),t._v(" çš„å®ä¾‹ã€‚\n2ã€åœ¨ç®¡é“çš„ç±»æ„é€ å‡½æ•°ä¸­ä¼ é€’ä¸Šä¸‹æ–‡ç‰¹å®šçš„ "),a("code",[t._v("Joi")]),t._v(" æ¨¡å¼ã€‚\n3ã€å°†ç®¡é“ç»‘å®šåˆ°æ–¹æ³•ã€‚")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬ä½¿ç”¨ "),a("code",[t._v("@UsePipes()")]),t._v(" è£…é¥°å™¨æ‰§è¡Œæ­¤æ“ä½œï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š")]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[t._v("@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Post")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("UsePipes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("JoiValidationPipe")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("createCatSchema"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Body")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" createCatDto"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" CreateCatDto")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("catsService"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("createCatDto"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("æç¤º")]),t._v(" "),a("p",[a("code",[t._v("@UsePipes()")]),t._v(" è£…é¥°å™¨ä» "),a("code",[t._v("@nestjs/common")]),t._v(" åŒ…å¯¼å…¥ã€‚")])]),t._v(" "),a("h3",{attrs:{id:"ç±»éªŒè¯å™¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç±»éªŒè¯å™¨"}},[t._v("#")]),t._v(" ç±»éªŒè¯å™¨")]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("æ³¨æ„")]),t._v(" "),a("p",[t._v("æœ¬èŠ‚ä¸­çš„æŠ€æœ¯éœ€è¦ "),a("code",[t._v("TypeScript")]),t._v("ï¼Œå¦‚æœæ‚¨çš„åº”ç”¨æ˜¯ä½¿ç”¨åŸå§‹ "),a("code",[t._v("JavaScript")]),t._v(" ç¼–å†™çš„ï¼Œåˆ™è¿™äº›æŠ€æœ¯ä¸å¯ç”¨ã€‚")])]),t._v(" "),a("p",[t._v("è®©æˆ‘ä»¬çœ‹ä¸€ä¸‹éªŒè¯æŠ€æœ¯çš„å¦ä¸€ç§å®ç°ã€‚")]),t._v(" "),a("p",[a("code",[t._v("Nest")]),t._v(" å¯ä¸ç±»éªŒè¯å™¨åº“ä¸€èµ·å¾ˆå¥½åœ°å·¥ä½œï¼Œè¿™ä¸ªå¼ºå¤§çš„åº“ä½¿æ‚¨å¯ä»¥ä½¿ç”¨åŸºäºè£…é¥°å™¨çš„éªŒè¯ã€‚åŸºäºè£…é¥°å™¨çš„éªŒè¯åŠŸèƒ½éå¸¸å¼ºå¤§ï¼Œå°¤å…¶æ˜¯ä¸ "),a("code",[t._v("Nest")]),t._v(" çš„ "),a("code",[t._v("Pipe")]),t._v(" åŠŸèƒ½ç»“åˆä½¿ç”¨æ—¶ï¼Œå› ä¸ºæˆ‘ä»¬å¯ä»¥è®¿é—®å·²å¤„ç†å±æ€§çš„ "),a("code",[t._v("å…ƒç±»å‹")]),t._v("ã€‚åœ¨å¼€å§‹ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å®‰è£…æ‰€éœ€çš„è½¯ä»¶åŒ…ï¼š")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" i --save class-validator class-transformer\n")])])]),a("p",[t._v("å®‰è£…å®Œè¿™äº›åï¼Œæˆ‘ä»¬å¯ä»¥å‘ "),a("code",[t._v("CreateCatDto")]),t._v(" ç±»æ·»åŠ ä¸€äº›è£…é¥°å™¨ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬çœ‹åˆ°äº†è¿™é¡¹æŠ€æœ¯çš„æ˜¾è‘—ä¼˜åŠ¿ï¼š"),a("code",[t._v("CreateCatDto")]),t._v(" ç±»ä»ç„¶æ˜¯ "),a("code",[t._v("Post")]),t._v(" æ­£æ–‡å¯¹è±¡çš„å”¯ä¸€äº‹å®æ¥æº(è€Œä¸æ˜¯å¿…é¡»åˆ›å»ºå•ç‹¬çš„éªŒè¯ç±»)ã€‚")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("å®˜æ–¹ç¤ºä¾‹")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("create-cat.dto.ts\n")])])])]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" IsString"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" IsInt "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'class-validator'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CreateCatDto")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  @"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("IsString")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  @"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("IsInt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  age"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("number")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  @"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("IsString")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  breed"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("åœ¨"),a("a",{attrs:{href:"https://github.com/typestack/class-validator#usage",target:"_blank",rel:"noopener noreferrer"}},[t._v("æ­¤å¤„"),a("OutboundLink")],1),t._v("é˜…è¯»æœ‰å…³ç±»éªŒè¯å™¨ä¿®é¥°ç¬¦çš„æ›´å¤šä¿¡æ¯ã€‚")]),t._v(" "),a("p",[t._v("ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªä½¿ç”¨è¿™äº›æ‰¹æ³¨çš„ "),a("code",[t._v("ValidationPipe")]),t._v(" ç±»ã€‚")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("å®˜æ–¹ç¤ºä¾‹")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("validation.pipe.ts\n")])])])]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" PipeTransform"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Injectable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ArgumentMetadata"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" BadRequestException "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@nestjs/common'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" validate "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'class-validator'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" plainToClass "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'class-transformer'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Injectable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ValidationPipe")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PipeTransform")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("any")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("transform")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("any")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" metatype "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ArgumentMetadata")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("metatype "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("toValidate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("metatype"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" object "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("plainToClass")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("metatype"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" errors "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("validate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("object"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("errors"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BadRequestException")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Validation failed'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("toValidate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("metatype"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("boolean")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" types"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("String"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Boolean"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Number"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Array")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Object"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("types"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("includes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("metatype"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("æç¤º")]),t._v(" "),a("p",[t._v("ä¸Šé¢ï¼Œæˆ‘ä»¬ä½¿ç”¨äº† "),a("code",[t._v("class-transformer")]),t._v("åº“ã€‚ å®ƒæ˜¯ç”±ä¸ç±»éªŒè¯å™¨åº“ç›¸åŒçš„ä½œè€…å†™çš„ï¼Œå› æ­¤ï¼Œå®ƒä»¬å¯ä»¥å¾ˆå¥½åœ°ååŒå·¥ä½œã€‚")])]),t._v(" "),a("p",[t._v("è®©æˆ‘ä»¬çœ‹ä¸€ä¸‹è¿™æ®µä»£ç ï¼Œé¦–å…ˆï¼Œè¯·æ³¨æ„ï¼Œ"),a("code",[t._v("transform()")]),t._v(" è¢«æ ‡è®°ä¸ºå¼‚æ­¥çš„æ–¹æ³•ï¼Œè¿™æ˜¯å¯ä»¥çš„ï¼Œ"),a("code",[t._v("Nest")]),t._v(" æ”¯æŒåŒæ­¥ç®¡é“å’Œå¼‚æ­¥ç®¡é“ã€‚æˆ‘ä»¬ä½¿æ­¤æ–¹æ³•å¼‚æ­¥ï¼Œå› ä¸ºæŸäº›ç±»éªŒè¯å™¨éªŒè¯å¯ä»¥æ˜¯å¼‚æ­¥çš„(åˆ©ç”¨"),a("code",[t._v("Promises")]),t._v(")ã€‚æ¥ä¸‹æ¥è¯·æ³¨æ„ï¼Œæˆ‘ä»¬æ­£åœ¨ä½¿ç”¨è§£æ„å°†å…ƒç±»å‹å­—æ®µ(ä»…ä» "),a("code",[t._v("ArgumentMetadata")]),t._v(" ä¸­æå–æ­¤æˆå‘˜)æå–åˆ°æˆ‘ä»¬çš„ "),a("code",[t._v("å…ƒç±»å‹")]),t._v(" å‚æ•°ä¸­ã€‚è¿™åªæ˜¯è·å¾—å®Œæ•´ "),a("code",[t._v("ArgumentMetadata")]),t._v(" çš„å¿«æ·æ–¹å¼ï¼Œç„¶åå¯ä»¥ä½¿ç”¨é™„åŠ çš„è¯­å¥æ¥åˆ†é…å…ƒç±»å‹å˜é‡ã€‚")]),t._v(" "),a("p",[t._v("æ¥ä¸‹æ¥ï¼Œæ³¨æ„ "),a("code",[t._v("Validate()")]),t._v(" çš„è¾…åŠ©å‡½æ•°ã€‚å½“æ­£åœ¨å¤„ç†çš„å½“å‰å‚æ•°æ˜¯ "),a("code",[t._v("JavaScript")]),t._v(" ç±»å‹æ—¶ï¼Œå®ƒè´Ÿè´£ç»•è¿‡éªŒè¯æ­¥éª¤(è¿™äº›å‚æ•°æ²¡æœ‰é™„åŠ éªŒè¯è£…é¥°å™¨ï¼Œå› æ­¤æ²¡æœ‰ç†ç”±åœ¨éªŒè¯æ­¥éª¤ä¸­è¿è¡Œå®ƒä»¬)ã€‚")]),t._v(" "),a("p",[t._v("æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä½¿ç”¨ "),a("code",[t._v("class-transformer")]),t._v(" å‡½æ•° "),a("code",[t._v("plainToClass()")]),t._v(" å°†æ™®é€šçš„ "),a("code",[t._v("JavaScript")]),t._v(" å‚æ•°å¯¹è±¡è½¬æ¢ä¸ºç±»å‹å¯¹è±¡ï¼Œä»¥ä¾¿æˆ‘ä»¬å¯ä»¥åº”ç”¨éªŒè¯ã€‚æˆ‘ä»¬å¿…é¡»è¿™æ ·åšçš„åŸå› æ˜¯ï¼Œä»ç½‘ç»œè¯·æ±‚ååºåˆ—åŒ–æ—¶ï¼Œä¼ å…¥çš„å¸–å­ä¸»ä½“å¯¹è±¡æ²¡æœ‰ä»»ä½•ç±»å‹ä¿¡æ¯(è¿™å°±æ˜¯åŸºç¡€å¹³å°ï¼Œä¾‹å¦‚Expressçš„å·¥ä½œæ–¹å¼)ã€‚ç±»éªŒè¯å™¨éœ€è¦ä½¿ç”¨ä¹‹å‰ä¸º "),a("code",[t._v("DTO")]),t._v(" å®šä¹‰çš„éªŒè¯è£…é¥°å™¨ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦æ‰§è¡Œæ­¤è½¬æ¢ï¼Œä»¥å°†ä¼ å…¥çš„ä¸»ä½“è§†ä¸ºç»è¿‡é€‚å½“è£…é¥°çš„å¯¹è±¡ï¼Œè€Œä¸ä»…ä»…æ˜¯æ™®é€šçš„å¯¹è±¡ã€‚")]),t._v(" "),a("p",[t._v("æœ€åï¼Œå¦‚ä¸Šæ‰€è¿°ï¼Œç”±äºè¿™æ˜¯ä¸€ä¸ªéªŒè¯ç®¡é“ï¼Œå› æ­¤å®ƒè¦ä¹ˆè¿”å›å€¼ä¸å˜ï¼Œè¦ä¹ˆæŠ›å‡ºå¼‚å¸¸ã€‚")]),t._v(" "),a("p",[t._v("æœ€åä¸€æ­¥æ˜¯ç»‘å®š "),a("code",[t._v("ValidationPipe")]),t._v("ã€‚ç®¡é“å¯ä»¥æ˜¯å‚æ•°ä½œç”¨åŸŸï¼Œæ–¹æ³•ä½œç”¨åŸŸï¼Œæ§åˆ¶å™¨ä½œç”¨åŸŸæˆ–å…¨å±€ä½œç”¨åŸŸã€‚ä¹‹å‰ï¼Œé€šè¿‡åŸºäº "),a("code",[t._v("Joi")]),t._v(" çš„éªŒè¯ç®¡é“ï¼Œæˆ‘ä»¬çœ‹åˆ°äº†åœ¨æ–¹æ³•çº§åˆ«ç»‘å®šç®¡é“çš„ç¤ºä¾‹ã€‚åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å°†ç®¡é“å®ä¾‹ç»‘å®šåˆ°è·¯ç”±å¤„ç†ç¨‹åº "),a("code",[t._v("@Body()")]),t._v(" è£…é¥°å™¨ï¼Œä»¥ä¾¿è°ƒç”¨æˆ‘ä»¬çš„ç®¡é“ä»¥éªŒè¯å¸–å­ä¸»ä½“ã€‚")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("å®˜æ–¹ç¤ºä¾‹")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("cats.controller.ts\n")])])])]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[t._v("@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Post")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  @"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Body")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ValidationPipe")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" createCatDto"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" CreateCatDto"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("catsService"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("createCatDto"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("å½“éªŒè¯é€»è¾‘ä»…æ¶‰åŠä¸€ä¸ªæŒ‡å®šå‚æ•°æ—¶ï¼Œå‚æ•°èŒƒå›´çš„ç®¡é“å¾ˆæœ‰ç”¨ã€‚")]),t._v(" "),a("h3",{attrs:{id:"å…¨å±€ä½œç”¨åŸŸç®¡é“"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å…¨å±€ä½œç”¨åŸŸç®¡é“"}},[t._v("#")]),t._v(" å…¨å±€ä½œç”¨åŸŸç®¡é“")]),t._v(" "),a("p",[t._v("ç”±äº "),a("code",[t._v("ValidationPipe")]),t._v(" è¢«åˆ›å»ºä¸ºå°½å¯èƒ½é€šç”¨ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥é€šè¿‡å°†å…¶è®¾ç½®ä¸ºå…¨å±€èŒƒå›´çš„ç®¡é“æ¥å®ç°å®ƒçš„å®Œæ•´åŠŸèƒ½ï¼Œä»¥ä¾¿å°†å…¶åº”ç”¨äºæ•´ä¸ªåº”ç”¨ç¨‹åºä¸­çš„æ¯ä¸ªè·¯ç”±å¤„ç†ç¨‹åºã€‚")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("å®˜æ–¹ç¤ºä¾‹")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("main.ts\n")])])])]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("bootstrap")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" app "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" NestFactory"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("AppModule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("useGlobalPipes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ValidationPipe")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("listen")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("bootstrap")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("æç¤º")]),t._v(" "),a("p",[t._v("å¯¹äºæ··åˆåº”ç”¨ç¨‹åºï¼Œ"),a("code",[t._v("useGlobalPipes()")]),t._v(' æ–¹æ³•æœªè®¾ç½®ç½‘å…³å’Œå¾®æœåŠ¡çš„ç®¡é“ã€‚å¯¹äº "æ ‡å‡†"(éæ··åˆ) å¾®æœåŠ¡åº”ç”¨ç¨‹åºï¼Œ'),a("code",[t._v("useGlobalPipes()")]),t._v(" ç¡®å®åœ¨å…¨å±€å®‰è£…ç®¡é“ã€‚")])]),t._v(" "),a("p",[t._v("å…¨å±€ç®¡é“åœ¨æ•´ä¸ªåº”ç”¨ç¨‹åºä¸­ç”¨äºæ¯ä¸ªæ§åˆ¶å™¨å’Œæ¯ä¸ªè·¯ç”±å¤„ç†ç¨‹åºã€‚")]),t._v(" "),a("p",[t._v("è¯·æ³¨æ„ï¼Œåœ¨ä¾èµ–å…³ç³»æ³¨å…¥æ–¹é¢ï¼Œç”±äºç»‘å®šæ˜¯åœ¨ä»»ä½•æ¨¡å—ä¸Šä¸‹æ–‡ä¹‹å¤–å®Œæˆçš„ï¼Œå› æ­¤ä»ä»»ä½•æ¨¡å—å¤–éƒ¨æ³¨å†Œçš„å…¨å±€ç®¡é“(å¦‚ä¸Šä¾‹æ‰€ç¤ºï¼Œä½¿ç”¨"),a("code",[t._v("useGlobalPipes()")]),t._v(")ï¼Œéƒ½ä¸èƒ½æ³¨å…¥ä¾èµ–å…³ç³»ã€‚ä¸ºäº†è§£å†³æ­¤é—®é¢˜ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ç»“æ„ç›´æ¥ä»ä»»ä½•æ¨¡å—è®¾ç½®å…¨å±€ç®¡é“ï¼š")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("å®˜æ–¹ç¤ºä¾‹")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("app.module.ts\n")])])])]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Module "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@nestjs/common'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("APP_PIPE")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@nestjs/core'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Module")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  providers"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      provide"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("APP_PIPE")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      useClass"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ValidationPipe"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AppModule")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("ä½¿ç”¨æ­¤æ–¹æ³•å¯¹ç®¡é“æ‰§è¡Œä¾èµ–é¡¹æ³¨å…¥æ—¶ï¼Œè¯·æ³¨æ„ï¼Œå®é™…ä¸Šï¼Œæ— è®ºé‡‡ç”¨å“ªç§ç»“æ„çš„æ¨¡å—ï¼Œç®¡é“éƒ½æ˜¯å…¨å±€çš„ã€‚åº”è¯¥åœ¨å“ªé‡Œåšï¼Ÿ é€‰æ‹©å®šä¹‰ç®¡é“(åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ä¸º "),a("code",[t._v("ValidationPipe")]),t._v(")çš„æ¨¡å—ã€‚ åŒæ ·ï¼Œ"),a("code",[t._v("useClass")]),t._v(" ä¸æ˜¯å¤„ç†è‡ªå®šä¹‰æä¾›ç¨‹åºæ³¨å†Œçš„å”¯ä¸€æ–¹æ³•ã€‚"),a("a",{attrs:{href:"https://docs.nestjs.com/fundamentals/custom-providers",target:"_blank",rel:"noopener noreferrer"}},[t._v("åœ¨è¿™é‡Œäº†è§£æ›´å¤š"),a("OutboundLink")],1),t._v("ã€‚")]),t._v(" "),a("h3",{attrs:{id:"è½¬æ¢ç”¨ä¾‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è½¬æ¢ç”¨ä¾‹"}},[t._v("#")]),t._v(" è½¬æ¢ç”¨ä¾‹")]),t._v(" "),a("p",[t._v("éªŒè¯ä¸æ˜¯å®šåˆ¶ç®¡é“çš„å”¯ä¸€ç”¨ä¾‹ã€‚åœ¨æœ¬ç« å¼€å§‹æ—¶ï¼Œæˆ‘ä»¬æåˆ°ç®¡é“è¿˜å¯ä»¥å°†è¾“å…¥æ•°æ®è½¬æ¢ä¸ºæ‰€éœ€çš„æ ¼å¼ã€‚è¿™æ˜¯å¯èƒ½çš„ï¼Œå› ä¸ºä»è½¬æ¢å‡½æ•°è¿”å›çš„å€¼å°†å®Œå…¨è¦†ç›–å‚æ•°çš„å…ˆå‰å€¼ã€‚")]),t._v(" "),a("p",[t._v("ä»€ä¹ˆæ—¶å€™æœ‰ç”¨ï¼Ÿè€ƒè™‘åˆ°æœ‰æ—¶ä»å®¢æˆ·ç«¯ä¼ é€’çš„æ•°æ®éœ€è¦è¿›è¡Œä¸€äº›æ›´æ”¹ï¼Œä¾‹å¦‚å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•´æ•°ï¼Œç„¶åæ‰èƒ½é€šè¿‡è·¯ç”±å¤„ç†ç¨‹åºæ–¹æ³•å¯¹å…¶è¿›è¡Œæ­£ç¡®å¤„ç†ã€‚æ­¤å¤–ï¼ŒæŸäº›å¿…å¡«æ•°æ®å­—æ®µå¯èƒ½ä¼šä¸¢å¤±ï¼Œæˆ‘ä»¬å¸Œæœ›åº”ç”¨é»˜è®¤å€¼ã€‚"),a("strong",[t._v("è½¬æ¢ç®¡é“")]),t._v("å¯ä»¥é€šè¿‡åœ¨å®¢æˆ·ç«¯è¯·æ±‚å’Œè¯·æ±‚å¤„ç†ç¨‹åºä¹‹é—´æ’å…¥å¤„ç†åŠŸèƒ½æ¥æ‰§è¡Œè¿™äº›åŠŸèƒ½ã€‚")]),t._v(" "),a("p",[t._v("è¿™æ˜¯ä¸€ä¸ªç®€å•çš„ "),a("code",[t._v("ParseIntPipe")]),t._v("ï¼Œå®ƒè´Ÿè´£å°†å­—ç¬¦ä¸²è§£æä¸ºæ•´æ•°å€¼ã€‚(å¦‚ä¸Šæ‰€è¿°ï¼Œ"),a("code",[t._v("Nest")]),t._v(" å…·æœ‰å†…ç½®çš„ "),a("code",[t._v("ParseIntPipe")]),t._v("ï¼Œå®ƒæ›´åŠ å¤æ‚ã€‚æˆ‘ä»¬å°†å…¶ä½œä¸ºè‡ªå®šä¹‰è½¬æ¢ç®¡é“çš„ç®€å•ç¤ºä¾‹)ã€‚")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("å®˜æ–¹ç¤ºä¾‹")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("parse-int.pipe.ts\n")])])])]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" PipeTransform"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Injectable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ArgumentMetadata"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" BadRequestException "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@nestjs/common'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Injectable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ParseIntPipe")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PipeTransform")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("number")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("transform")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" metadata"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ArgumentMetadata"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("number")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" val "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("parseInt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("isNaN")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("val"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BadRequestException")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Validation failed'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" val"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥å°†æ­¤ç®¡é“ç»‘å®šåˆ°é€‰å®šçš„å‚æ•°ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š")]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[t._v("@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("':id'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("findOne")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Param")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'id'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ParseIntPipe")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("catsService"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("findOne")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("å¦ä¸€ä¸ªæœ‰ç”¨çš„è½¬æ¢æ¡ˆä¾‹æ˜¯ä½¿ç”¨è¯·æ±‚ä¸­æä¾›çš„ "),a("code",[t._v("ID")]),t._v(" ä»æ•°æ®åº“ä¸­é€‰æ‹©ä¸€ä¸ªç°æœ‰çš„ç”¨æˆ·å®ä½“ï¼š")]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[t._v("@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("':id'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("findOne")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Param")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'id'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" UserByIdPipe"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" userEntity"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" UserEntity"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" userEntity"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("æˆ‘ä»¬å°†è¿™ä¸ªç®¡é“çš„å®ç°ç•™ç»™è¯»è€…ï¼Œä½†æ˜¯è¯·æ³¨æ„ï¼Œåƒæ‰€æœ‰å…¶ä»–è½¬æ¢ç®¡é“ä¸€æ ·ï¼Œå®ƒæ¥æ”¶è¾“å…¥å€¼ "),a("code",[t._v("(id)")]),t._v(" å¹¶è¿”å›è¾“å‡ºå€¼("),a("code",[t._v("UserEntity")]),t._v(" å¯¹è±¡)ã€‚é€šè¿‡å°†æ ·æ¿ä»£ç ä»å¤„ç†ç¨‹åºä¸­æå–åˆ°å…¬å…±ç®¡é“ä¸­ï¼Œå¯ä»¥ä½¿æ‚¨çš„ä»£ç æ›´å…·å£°æ˜æ€§å¹¶æ›´æ•´æ´ã€‚")]),t._v(" "),a("h3",{attrs:{id:"æä¾›é»˜è®¤å€¼"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æä¾›é»˜è®¤å€¼"}},[t._v("#")]),t._v(" æä¾›é»˜è®¤å€¼")]),t._v(" "),a("p",[a("code",[t._v("Parse*")]),t._v(" ç®¡é“æœŸæœ›å®šä¹‰å‚æ•°çš„å€¼ã€‚ä»–ä»¬åœ¨æ”¶åˆ° "),a("code",[t._v("null")]),t._v(" æˆ– "),a("code",[t._v("undefined")]),t._v(" çš„å€¼æ—¶å¼•å‘å¼‚å¸¸ã€‚ä¸ºäº†å…è®¸ç«¯ç‚¹å¤„ç†ç¼ºå¤±çš„æŸ¥è¯¢å­—ç¬¦ä¸²å‚æ•°å€¼ï¼Œæˆ‘ä»¬å¿…é¡»æä¾›ä¸€ä¸ªé»˜è®¤å€¼ï¼Œä»¥ä¾¿åœ¨ "),a("code",[t._v("Parse*")]),t._v(" ç®¡é“å¯¹è¿™äº›å€¼è¿›è¡Œæ“ä½œä¹‹å‰å°†å…¶æ³¨å…¥ã€‚"),a("code",[t._v("DefaultValuePipe")]),t._v(" ç”¨äºæ­¤ç›®çš„ã€‚åªéœ€åœ¨ç›¸å…³çš„ "),a("code",[t._v("Parse*")]),t._v(" ç®¡é“ä¹‹å‰åœ¨ "),a("code",[t._v("@Query()")]),t._v(" è£…é¥°å™¨ä¸­å®ä¾‹åŒ–ä¸€ä¸ª "),a("code",[t._v("DefaultValuePipe")]),t._v("ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š")]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[t._v("@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("findAll")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  @"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Query")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'activeOnly'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DefaultValuePipe")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ParseBoolPipe"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" activeOnly"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("boolean")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  @"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Query")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'page'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DefaultValuePipe")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ParseIntPipe"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" page"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("number")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("catsService"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("findAll")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" activeOnly"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" page "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"å†…ç½®çš„æ ¡éªŒç®¡é“"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å†…ç½®çš„æ ¡éªŒç®¡é“"}},[t._v("#")]),t._v(" å†…ç½®çš„æ ¡éªŒç®¡é“")]),t._v(" "),a("p",[t._v("æé†’ä¸€å¥ï¼Œæ‚¨ä¸éœ€è¦è‡ªå·±æ„å»ºé€šç”¨çš„éªŒè¯ç®¡é“ï¼Œå› ä¸º "),a("code",[t._v("ValidationPipe")]),t._v(" æ˜¯ç”± "),a("code",[t._v("Nest")]),t._v(" å³æ—¶æä¾›çš„ã€‚å†…ç½®çš„ "),a("code",[t._v("ValidationPipe")]),t._v(" æä¾›çš„é€‰é¡¹æ¯”æˆ‘ä»¬åœ¨æœ¬ç« ä¸­æ„å»ºçš„ç¤ºä¾‹æ›´å¤šï¼Œä¸ºè¯´æ˜è‡ªå®šä¹‰ç®¡é“çš„æœºåˆ¶è€Œä¿ç•™äº†åŸºæœ¬é€‰é¡¹ã€‚æ‚¨å¯ä»¥"),a("a",{attrs:{href:"https://docs.nestjs.com/techniques/validation",target:"_blank",rel:"noopener noreferrer"}},[t._v("åœ¨æ­¤"),a("OutboundLink")],1),t._v("å¤„æ‰¾åˆ°å®Œæ•´çš„è¯¦ç»†ä¿¡æ¯ä»¥åŠè®¸å¤šç¤ºä¾‹ã€‚")]),t._v(" "),a("h2",{attrs:{id:"å®ˆå«"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å®ˆå«"}},[t._v("#")]),t._v(" å®ˆå«")]),t._v(" "),a("p",[t._v("å®ˆå«æ˜¯ç”¨ "),a("code",[t._v("@Injectable()")]),t._v(" è£…é¥°å™¨æ³¨é‡Šçš„ç±»ã€‚ æ‰€æœ‰çš„å®ˆå«éƒ½åº”å®ç° "),a("code",[t._v("CanActivate")]),t._v(" æ¥å£ã€‚")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://docs.nestjs.com/assets/Guards_1.png",alt:"img",title:"å®ˆå«"}})]),t._v(" "),a("p",[t._v("å®ˆå«è´Ÿæœ‰å•ä¸€è´£ä»»ã€‚ä»–ä»¬ç¡®å®šç»™å®šçš„è¯·æ±‚æ˜¯å¦å°†ç”±è·¯ç”±å¤„ç†ç¨‹åºå¤„ç†ï¼Œå–å†³äºè¿è¡Œæ—¶å‡ºç°çš„æŸäº›æ¡ä»¶(ä¾‹å¦‚æƒé™ï¼Œè§’è‰²ï¼Œ"),a("code",[t._v("ACL")]),t._v(" ç­‰)ã€‚è¿™é€šå¸¸ç§°ä¸ºæˆæƒï¼Œæˆæƒ(èº«ä»½éªŒè¯)é€šå¸¸ç”±ä¼ ç»Ÿ "),a("code",[t._v("Express")]),t._v(" åº”ç”¨ç¨‹åºä¸­çš„ä¸­é—´ä»¶å¤„ç†ã€‚ä¸­é—´ä»¶æ˜¯è¿›è¡Œèº«ä»½éªŒè¯çš„ä¸é”™é€‰æ‹©ï¼Œå› ä¸ºä»¤ç‰ŒéªŒè¯å’Œå°†å±æ€§é™„åŠ åˆ° "),a("code",[t._v("è¯·æ±‚å¯¹è±¡")]),t._v(" ç­‰ä¸ç‰¹å®šçš„è·¯ç”±ä¸Šä¸‹æ–‡(åŠå…¶å…ƒæ•°æ®)ä¹‹é—´æ²¡æœ‰ç‰¢å›ºçš„è”ç³»ã€‚")]),t._v(" "),a("p",[t._v("ä½†æ˜¯ä¸­é—´ä»¶ä»æœ¬è´¨ä¸Šæ¥è¯´æ˜¯é”™è¯¯çš„ï¼Œè°ƒç”¨ "),a("code",[t._v("next()")]),t._v(" å‡½æ•°åï¼Œå®ƒä¸çŸ¥é“å°†æ‰§è¡Œå“ªä¸ªå¤„ç†ç¨‹åºã€‚å¦ä¸€æ–¹é¢ï¼Œ"),a("strong",[a("code",[t._v("Guards")])]),t._v(" å¯ä»¥è®¿é—® "),a("code",[t._v("ExecutionContext")]),t._v(" å®ä¾‹ï¼Œå› æ­¤ç¡®åˆ‡çŸ¥é“ä¸‹ä¸€æ­¥å°†è¦æ‰§è¡Œä»€ä¹ˆã€‚å®ƒä»¬çš„è®¾è®¡éå¸¸ç±»ä¼¼äºå¼‚å¸¸è¿‡æ»¤å™¨ï¼Œç®¡é“å’Œæ‹¦æˆªå™¨ï¼Œä½¿æ‚¨å¯ä»¥åœ¨"),a("strong",[t._v("è¯·æ±‚/å“åº”")]),t._v("å‘¨æœŸä¸­çš„æ­£ç¡®ä½ç½®æ’å…¥å¤„ç†é€»è¾‘ï¼Œå¹¶ä»¥å£°æ˜çš„æ–¹å¼è¿›è¡Œã€‚è¿™æœ‰åŠ©äºä½¿ä»£ç ä¿æŒæ•´æ´æ€§å’Œå£°æ˜æ€§ã€‚")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("æç¤º")]),t._v(" "),a("p",[t._v("åœ¨æ¯ä¸ªä¸­é—´ä»¶ä¹‹åä½†åœ¨ä»»ä½•æ‹¦æˆªå™¨æˆ–ç®¡é“ä¹‹å‰æ‰§è¡Œå®ˆæŠ¤ã€‚")])]),t._v(" "),a("h3",{attrs:{id:"å®ˆå«æˆæƒ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å®ˆå«æˆæƒ"}},[t._v("#")]),t._v(" å®ˆå«æˆæƒ")]),t._v(" "),a("p",[t._v("å¦‚å‰æ‰€è¿°ï¼Œæˆæƒæ˜¯ "),a("code",[t._v("Guards")]),t._v(" çš„ä¸€ä¸ªå¾ˆå¥½çš„ç”¨ä¾‹ï¼Œå› ä¸ºåªæœ‰å½“å‘¼å«è€…(é€šå¸¸æ˜¯ç»è¿‡èº«ä»½éªŒè¯çš„ç‰¹å®šç”¨æˆ·)å…·æœ‰è¶³å¤Ÿçš„æƒé™æ—¶ï¼Œç‰¹å®šçš„è·¯ç”±æ‰å¯ç”¨ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬å°†æ„å»ºçš„ "),a("code",[t._v("AuthGuard")]),t._v(" å‡è®¾å·²é€šè¿‡èº«ä»½éªŒè¯çš„ç”¨æˆ·(å› æ­¤ï¼Œä»¤ç‰Œé™„åŠ åˆ°äº†è¯·æ±‚æ ‡å¤´ä¸­)ã€‚å®ƒå°†æå–å¹¶éªŒè¯ä»¤ç‰Œï¼Œå¹¶ä½¿ç”¨æå–çš„ä¿¡æ¯æ¥ç¡®å®šè¯·æ±‚æ˜¯å¦å¯ä»¥ç»§ç»­è¿›è¡Œã€‚")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("å®˜æ–¹ç¤ºä¾‹")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("auth.guard.ts\n")])])])]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Injectable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" CanActivate"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ExecutionContext "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@nestjs/common'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Observable "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'rxjs'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Injectable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AuthGuard")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CanActivate")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("canActivate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    context"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ExecutionContext"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("boolean")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Promise")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("boolean")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Observable"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("boolean")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" request "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" context"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("switchToHttp")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getRequest")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("validateRequest")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[a("code",[t._v("validateRequest()")]),t._v(" å‡½æ•°ä¸­çš„é€»è¾‘å¯ä»¥æ ¹æ®éœ€è¦ç®€å•æˆ–å¤æ‚ã€‚è¯¥ç¤ºä¾‹çš„é‡ç‚¹æ˜¯æ˜¾ç¤ºå®ˆå«å¦‚ä½•é€‚åº”"),a("strong",[t._v("è¯·æ±‚/å“åº”å‘¨æœŸ")]),t._v("ã€‚")]),t._v(" "),a("p",[t._v("æ¯ä¸ªå®ˆå«éƒ½å¿…é¡»å®ç°  "),a("code",[t._v("canActivate()")]),t._v(" å‡½æ•°ï¼Œæ­¤å‡½æ•°åº”è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼ŒæŒ‡ç¤ºæ˜¯å¦å…è®¸å½“å‰è¯·æ±‚ã€‚å®ƒå¯ä»¥åŒæ­¥æˆ–å¼‚æ­¥è¿”å›å“åº”(é€šè¿‡ "),a("code",[t._v("Promise")]),t._v(" æˆ– "),a("code",[t._v("Observable")]),t._v(")ã€‚"),a("code",[t._v("Nest")]),t._v(" ä½¿ç”¨è¿”å›å€¼æ§åˆ¶ä¸‹ä¸€æ­¥æ“ä½œï¼š")]),t._v(" "),a("ul",[a("li",[t._v("å¦‚æœè¿”å› "),a("code",[t._v("true")]),t._v("ï¼Œåˆ™å°†å¤„ç†è¯·æ±‚ã€‚")]),t._v(" "),a("li",[t._v("å¦‚æœè¿”å› "),a("code",[t._v("false")]),t._v("ï¼Œåˆ™ "),a("code",[t._v("Nest")]),t._v(" å°†æ‹’ç»è¯¥è¯·æ±‚ã€‚")])]),t._v(" "),a("h3",{attrs:{id:"æ‰§è¡Œä¸Šä¸‹æ–‡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ‰§è¡Œä¸Šä¸‹æ–‡"}},[t._v("#")]),t._v(" æ‰§è¡Œä¸Šä¸‹æ–‡")]),t._v(" "),a("p",[a("code",[t._v("canActivate()")]),t._v(" å‡½æ•°é‡‡ç”¨ä¸€ä¸ªå‚æ•°ï¼Œå³ "),a("code",[t._v("ExecutionContext")]),t._v(" å®ä¾‹ã€‚"),a("code",[t._v("ExecutionContext")]),t._v(" ç»§æ‰¿è‡ª "),a("code",[t._v("ArgumentsHost")]),t._v("ã€‚æˆ‘ä»¬ä¹‹å‰åœ¨å¼‚å¸¸è¿‡æ»¤å™¨ä¸€ç« ä¸­çœ‹åˆ°äº†  "),a("code",[t._v("ArgumentsHost")]),t._v("ã€‚åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬åªä½¿ç”¨äº†ä¸å…ˆå‰ä½¿ç”¨çš„ "),a("code",[t._v("ArgumentsHost")]),t._v(" ä¸Šå®šä¹‰çš„ç›¸åŒçš„å¸®åŠ©ç¨‹åºæ–¹æ³•ï¼Œæ¥è·å–å¯¹ "),a("code",[t._v("Request")]),t._v(" å¯¹è±¡çš„å¼•ç”¨ã€‚æ‚¨å¯ä»¥å‚è€ƒ"),a("a",{attrs:{href:"https://docs.nestjs.com/exception-filters#arguments-host",target:"_blank",rel:"noopener noreferrer"}},[t._v("å¼‚å¸¸è¿‡æ»¤å™¨"),a("OutboundLink")],1),t._v("ä¸€ç« çš„ "),a("code",[t._v('"Arguments host"')]),t._v(" éƒ¨åˆ†ï¼Œä»¥è·å–æœ‰å…³æ­¤ä¸»é¢˜çš„æ›´å¤šä¿¡æ¯ã€‚é€šè¿‡æ‰©å±•"),a("code",[t._v("ArgumentsHost")]),t._v("ï¼Œ"),a("code",[t._v("ExecutionContext")]),t._v(" è¿˜æ·»åŠ äº†å‡ ä¸ªæ–°çš„è¾…åŠ©æ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•æä¾›æœ‰å…³å½“å‰æ‰§è¡Œè¿‡ç¨‹çš„æ›´å¤šè¯¦ç»†ä¿¡æ¯ã€‚è¿™äº›è¯¦ç»†ä¿¡æ¯æœ‰åŠ©äºæ„å»ºå¯ä»¥åœ¨å¹¿æ³›çš„æ§åˆ¶å™¨ï¼Œæ–¹æ³•å’Œæ‰§è¡Œä¸Šä¸‹æ–‡ä¸­ä½¿ç”¨çš„æ›´å¤šé€šç”¨å®ˆæŠ¤ã€‚ åœ¨"),a("a",{attrs:{href:"https://docs.nestjs.com/fundamentals/execution-context",target:"_blank",rel:"noopener noreferrer"}},[t._v("æ­¤å¤„"),a("OutboundLink")],1),t._v("äº†è§£æœ‰å…³ "),a("code",[t._v("ExecutionContext")]),t._v(" çš„æ›´å¤šä¿¡æ¯ã€‚")]),t._v(" "),a("h3",{attrs:{id:"åŸºäºè§’è‰²çš„èº«ä»½éªŒè¯"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åŸºäºè§’è‰²çš„èº«ä»½éªŒè¯"}},[t._v("#")]),t._v(" åŸºäºè§’è‰²çš„èº«ä»½éªŒè¯")]),t._v(" "),a("p",[t._v("è®©æˆ‘ä»¬æ„å»ºä¸€ä¸ªåŠŸèƒ½æ›´å¼ºå¤§çš„å®ˆå«ï¼Œä»…å…è®¸å…·æœ‰ç‰¹å®šè§’è‰²çš„ç”¨æˆ·è®¿é—®ã€‚æˆ‘ä»¬å°†ä»ä¸€ä¸ªåŸºæœ¬çš„å®ˆå«æ¨¡æ¿å¼€å§‹ï¼Œå¹¶åœ¨æ¥ä¸‹æ¥çš„éƒ¨åˆ†ä¸­ä»¥æ­¤ä¸ºåŸºç¡€ã€‚ç›®å‰ï¼Œå®ƒå…è®¸æ‰€æœ‰è¯·æ±‚ç»§ç»­è¿›è¡Œï¼š")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("å®˜æ–¹ç¤ºä¾‹")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("roles.guard.ts\n")])])])]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Injectable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" CanActivate"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ExecutionContext "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@nestjs/common'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Observable "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'rxjs'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Injectable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("RolesGuard")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CanActivate")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("canActivate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    context"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ExecutionContext"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("boolean")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Promise")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("boolean")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Observable"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("boolean")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"ç»‘å®šå®ˆå«"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç»‘å®šå®ˆå«"}},[t._v("#")]),t._v(" ç»‘å®šå®ˆå«")]),t._v(" "),a("p",[t._v("ä¸ç®¡é“å’Œå¼‚å¸¸è¿‡æ»¤å™¨ä¸€æ ·ï¼Œå®ˆå«å¯ä»¥æ˜¯æ§åˆ¶å™¨èŒƒå›´ï¼Œæ–¹æ³•èŒƒå›´æˆ–å…¨å±€èŒƒå›´çš„ã€‚ä¸‹é¢ï¼Œæˆ‘ä»¬ä½¿ç”¨ "),a("code",[t._v("@UseGuards()")]),t._v(" è£…é¥°å™¨è®¾ç½®äº†ä¸€ä¸ªæ§åˆ¶å™¨èŒƒå›´çš„é˜²æŠ¤ã€‚æ­¤ä¿®é¥°ç¬¦å¯ä»¥é‡‡ç”¨å•ä¸ªå‚æ•°ï¼Œä¹Ÿå¯ä»¥é‡‡ç”¨é€—å·åˆ†éš”çš„å‚æ•°åˆ—è¡¨ã€‚è¿™ä½¿æ‚¨å¯ä»¥é€šè¿‡ä¸€ä¸ªå£°æ˜ï¼Œè½»æ¾åœ°åº”ç”¨ä¸€ç»„é€‚å½“çš„å®ˆå«ã€‚")]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[t._v("@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Controller")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'cats'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("UseGuards")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("RolesGuard"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CatsController")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("æç¤º")]),t._v(" "),a("p",[a("code",[t._v("@UseGuards()")]),t._v(" è£…é¥°å™¨ä» "),a("code",[t._v("@nestjs/common")]),t._v(" åŒ…å¯¼å…¥ã€‚")])]),t._v(" "),a("p",[t._v("ä¸Šé¢ï¼Œæˆ‘ä»¬ä¼ é€’äº† "),a("code",[t._v("RolesGuard")]),t._v("ç±»å‹(è€Œä¸æ˜¯å®ä¾‹)ï¼Œå°†å®ä¾‹åŒ–è´£ä»»ç•™ç»™äº†æ¡†æ¶å¹¶å¯ç”¨äº†ä¾èµ–æ³¨å…¥ã€‚ä¸ç®¡é“å’Œå¼‚å¸¸è¿‡æ»¤å™¨ä¸€æ ·ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä¼ é€’æ­¤å®ä¾‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[t._v("@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Controller")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'cats'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("UseGuards")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("RolesGuard")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CatsController")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("ä¸Šé¢çš„æ„é€ å°†å®ˆå«ç¨‹åºé™„åŠ åˆ°æ­¤æ§åˆ¶å™¨å£°æ˜çš„æ¯ä¸ªå¤„ç†ç¨‹åºä¸Šã€‚å¦‚æœæˆ‘ä»¬å¸Œæœ›å®ˆå«ä»…é€‚ç”¨äºå•ä¸ªæ–¹æ³•ï¼Œåˆ™å¯ä»¥åœ¨æ–¹æ³•çº§åˆ«åº”ç”¨ "),a("code",[t._v("@UseGuards()")]),t._v(" è£…é¥°å™¨ã€‚ä¸ºäº†è®¾ç½®å…¨å±€å®ˆå«ï¼Œè¯·ä½¿ç”¨ "),a("code",[t._v("Nest")]),t._v(" åº”ç”¨ç¨‹åºå®ä¾‹çš„ "),a("code",[t._v("useGlobalGuards()")]),t._v(" æ–¹æ³•ï¼š")]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" app "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" NestFactory"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("AppModule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\napp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("useGlobalGuards")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("RolesGuard")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("æç¤º")]),t._v(" "),a("p",[t._v("å¯¹äºæ··åˆåº”ç”¨ç¨‹åºï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œ"),a("code",[t._v("useGlobalGuards()")]),t._v(" æ–¹æ³•æœªè®¾ç½®ç½‘å…³å’Œå¾®æœåŠ¡çš„é˜²æŠ¤(æœ‰å…³å¦‚ä½•æ›´æ”¹æ­¤è¡Œä¸ºçš„ä¿¡æ¯ï¼Œè¯·å‚é˜…"),a("a",{attrs:{href:"https://docs.nestjs.com/faq/hybrid-application",target:"_blank",rel:"noopener noreferrer"}},[t._v("æ··åˆåº”ç”¨ç¨‹åº"),a("OutboundLink")],1),t._v(')ã€‚å¯¹äº **"æ ‡å‡†"(éæ··åˆ)**å¾®æœåŠ¡åº”ç”¨ç¨‹åºï¼Œ'),a("code",[t._v("useGlobalGuards()")]),t._v(" ç¡®å®åœ¨å…¨å±€å®‰è£…äº†å®ˆå«ã€‚")])]),t._v(" "),a("p",[t._v("å¯¹äºæ¯ä¸ªæ§åˆ¶å™¨å’Œæ¯ä¸ªè·¯ç”±å¤„ç†ç¨‹åºï¼Œæ•´ä¸ªåº”ç”¨ç¨‹åºéƒ½ä½¿ç”¨å…¨å±€é˜²æŠ¤ã€‚åœ¨ä¾èµ–å…³ç³»æ³¨å…¥æ–¹é¢ï¼Œä»ä»»ä½•æ¨¡å—å¤–éƒ¨æ³¨å†Œçš„å…¨å±€å®ˆå«(å¦‚ä¸Šä¾‹ä¸­ä½¿ç”¨ "),a("code",[t._v("useGlobalGuards()")]),t._v(")éƒ½ä¸èƒ½æ³¨å…¥ä¾èµ–å…³ç³»ï¼Œå› ä¸ºè¿™æ˜¯åœ¨ä»»ä½•æ¨¡å—ä¸Šä¸‹æ–‡ä¹‹å¤–å®Œæˆçš„ã€‚ä¸ºäº†è§£å†³æ­¤é—®é¢˜ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ç»“æ„ç›´æ¥ä»ä»»ä½•æ¨¡å—è®¾ç½®å®ˆå«ï¼š")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("å®˜æ–¹ç¤ºä¾‹")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("app.module.ts\n")])])])]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Module "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@nestjs/common'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("APP_GUARD")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@nestjs/core'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Module")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  providers"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      provide"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("APP_GUARD")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      useClass"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" RolesGuard"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AppModule")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("æç¤º")]),t._v(" "),a("p",[t._v("ä½¿ç”¨æ­¤æ–¹æ³•å¯¹å®ˆå«æ‰§è¡Œä¾èµ–æ³¨å…¥æ—¶ï¼Œè¯·æ³¨æ„ï¼Œæ— è®ºé‡‡ç”¨å“ªç§ç»“æ„çš„æ¨¡å—ï¼Œå®é™…ä¸Šå®ˆå«éƒ½æ˜¯å…¨å±€çš„ï¼Œåº”è¯¥åœ¨å“ªé‡Œåšï¼Ÿé€‰æ‹©å®šä¹‰äº†å®ˆå«(åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ä¸º "),a("code",[t._v("RolesGuard")]),t._v(" )çš„æ¨¡å—ã€‚åŒæ ·ï¼Œ"),a("code",[t._v("useClass")]),t._v(" ä¸æ˜¯å¤„ç†è‡ªå®šä¹‰æä¾›ç¨‹åºæ³¨å†Œçš„å”¯ä¸€æ–¹æ³•ã€‚ "),a("a",{attrs:{href:"https://docs.nestjs.com/fundamentals/custom-providers",target:"_blank",rel:"noopener noreferrer"}},[t._v("äº†è§£æ›´å¤š"),a("OutboundLink")],1),t._v("ã€‚")])]),t._v(" "),a("h3",{attrs:{id:"è®¾ç½®æ¯ä¸ªå¤„ç†ç¨‹åºçš„è§’è‰²"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è®¾ç½®æ¯ä¸ªå¤„ç†ç¨‹åºçš„è§’è‰²"}},[t._v("#")]),t._v(" è®¾ç½®æ¯ä¸ªå¤„ç†ç¨‹åºçš„è§’è‰²")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬çš„ "),a("code",[t._v("RolesGuard")]),t._v(" æ­£åœ¨è¿è¡Œï¼Œä½†è¿˜ä¸æ˜¯å¾ˆèªæ˜ã€‚æˆ‘ä»¬å°šæœªåˆ©ç”¨æœ€é‡è¦çš„å®ˆå«åŠŸèƒ½-æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚å®ƒå°šä¸äº†è§£è§’è‰²ï¼Œæˆ–æ¯ä¸ªå¤„ç†ç¨‹åºå…è®¸å“ªäº›è§’è‰²ã€‚ä¾‹å¦‚ï¼Œå¯¹äºä¸åŒçš„è·¯ç”±ï¼Œ"),a("code",[t._v("CatsController")]),t._v(" å¯èƒ½å…·æœ‰ä¸åŒçš„æƒé™æ–¹æ¡ˆã€‚æœ‰äº›å¯èƒ½ä»…å¯¹ç®¡ç†å‘˜ç”¨æˆ·å¯ç”¨ï¼Œè€Œå¦ä¸€äº›å¯èƒ½å¯¹æ‰€æœ‰äººå¼€æ”¾ã€‚æˆ‘ä»¬å¦‚ä½•ä»¥çµæ´»ä¸”å¯é‡ç”¨çš„æ–¹å¼å°†è§’è‰²ä¸è·¯ç”±åŒ¹é…ï¼Ÿ")]),t._v(" "),a("p",[t._v("è¿™æ˜¯è‡ªå®šä¹‰å…ƒæ•°æ®èµ·ä½œç”¨çš„åœ°æ–¹("),a("a",{attrs:{href:"https://docs.nestjs.com/fundamentals/execution-context#reflection-and-metadata",target:"_blank",rel:"noopener noreferrer"}},[t._v("äº†è§£æ›´å¤š"),a("OutboundLink")],1),t._v(")ã€‚"),a("code",[t._v("Nest")]),t._v(" æä¾›äº†é€šè¿‡"),a("code",[t._v("@SetMetadata()")]),t._v(" è£…é¥°å™¨å°†è‡ªå®šä¹‰å…ƒæ•°æ®é™„åŠ åˆ°è·¯ç”±å¤„ç†ç¨‹åºçš„åŠŸèƒ½ã€‚è¯¥å…ƒæ•°æ®æä¾›äº†æˆ‘ä»¬ç¼ºå°‘çš„è§’è‰²æ•°æ®ï¼Œæ™ºèƒ½å®ˆå«éœ€è¦è¿›è¡Œå†³ç­–ã€‚è®©æˆ‘ä»¬çœ‹ä¸€ä¸‹ä½¿ç”¨ "),a("code",[t._v("@SetMetadata()")]),t._v(" çš„æ–¹æ³•ï¼š")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("å®˜æ–¹ç¤ºä¾‹")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("cats.controller.ts\n")])])])]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[t._v("@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Post")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("SetMetadata")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'roles'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'admin'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Body")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" createCatDto"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" CreateCatDto")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("catsService"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("createCatDto"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("æç¤º")]),t._v(" "),a("p",[a("code",[t._v("@SetMetadata()")]),t._v(" è£…é¥°å™¨ä» "),a("code",[t._v("@nestjs/common")]),t._v(" åŒ…å¯¼å…¥ã€‚")])]),t._v(" "),a("p",[t._v("é€šè¿‡ä¸Šé¢çš„æ„é€ ï¼Œæˆ‘ä»¬å°†è§’è‰²å…ƒæ•°æ®(è§’è‰²æ˜¯é”®ï¼Œè€Œ "),a("code",[t._v("['admin']")]),t._v(" æ˜¯ç‰¹å®šå€¼)é™„åŠ åˆ° "),a("code",[t._v("create()")]),t._v(" æ–¹æ³•ã€‚è™½ç„¶è¿™å¯è¡Œï¼Œä½†åœ¨è·¯ç”±ä¸­ç›´æ¥ä½¿ç”¨  "),a("code",[t._v("@SetMetadata()")]),t._v(" å¹¶ä¸æ˜¯ä¸€ä¸ªå¥½ä¹ æƒ¯ã€‚è€Œæ˜¯åº”è¯¥åˆ›å»ºæ‚¨è‡ªå·±çš„è£…é¥°å™¨ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("å®˜æ–¹ç¤ºä¾‹")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("roles.decorator.ts\n")])])])]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" SetMetadata "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@nestjs/common'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("Roles")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("roles"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("SetMetadata")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'roles'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" roles"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("è¿™ç§æ–¹æ³•æ›´å¹²å‡€ï¼Œæ›´æ˜“è¯»ï¼Œå¹¶ä¸”ç±»å‹ä¸¥æ ¼ã€‚ç°åœ¨æˆ‘ä»¬æœ‰äº†ä¸€ä¸ªè‡ªå®šä¹‰çš„ "),a("code",[t._v("@Roles()")]),t._v(" è£…é¥°å™¨ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å®ƒæ¥è£…é¥° "),a("code",[t._v("create()")]),t._v(" æ–¹æ³•ã€‚")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("å®˜æ–¹ç¤ºä¾‹")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("cats.controller.ts\n")])])])]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[t._v("@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Post")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Roles")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'admin'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Body")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" createCatDto"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" CreateCatDto")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("catsService"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("createCatDto"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"å…¨éƒ¨æ”¾åœ¨ä¸€èµ·"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å…¨éƒ¨æ”¾åœ¨ä¸€èµ·"}},[t._v("#")]),t._v(" å…¨éƒ¨æ”¾åœ¨ä¸€èµ·")]),t._v(" "),a("p",[t._v("ç°åœ¨ï¼Œè®©æˆ‘ä»¬å°†å…¶ä¸ "),a("code",[t._v("RolesGuard")]),t._v("ç»“åˆåœ¨ä¸€èµ·ã€‚å½“å‰ï¼Œå®ƒåœ¨æ‰€æœ‰æƒ…å†µä¸‹éƒ½åªè¿”å› "),a("code",[t._v("true")]),t._v("ï¼Œä»è€Œå…è®¸æ¯ä¸ªè¯·æ±‚ç»§ç»­è¿›è¡Œã€‚æˆ‘ä»¬å¸Œæœ›æ ¹æ®å°†åˆ†é…ç»™å½“å‰ç”¨æˆ·çš„è§’è‰²ä¸æ­£åœ¨å¤„ç†çš„å½“å‰è·¯ç”±æ‰€éœ€çš„å®é™…è§’è‰²è¿›è¡Œæ¯”è¾ƒæ¥ç¡®å®šè¿”å›å€¼çš„æ¡ä»¶ã€‚ä¸ºäº†è®¿é—®è·¯ç”±çš„è§’è‰²(è‡ªå®šä¹‰å…ƒæ•°æ®)ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ "),a("code",[t._v("Reflector")]),t._v(" å¸®åŠ©å™¨ç±»ï¼Œè¯¥ç±»ç”±æ¡†æ¶æä¾›ï¼Œå¹¶é€šè¿‡ "),a("code",[t._v("@nestjs/core")]),t._v(" åŒ…å…¬å¼€ã€‚")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("å®˜æ–¹ç¤ºä¾‹")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("roles.guard.ts\n")])])])]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Injectable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" CanActivate"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ExecutionContext "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@nestjs/common'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Reflector "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@nestjs/core'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Injectable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("RolesGuard")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CanActivate")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("constructor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" reflector"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Reflector")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("canActivate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("context"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ExecutionContext"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("boolean")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" roles "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("reflector"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'roles'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" context"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getHandler")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("roles"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" request "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" context"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("switchToHttp")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getRequest")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" user "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("matchRoles")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("roles"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("roles"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("æç¤º")]),t._v(" "),a("p",[t._v("åœ¨ "),a("code",[t._v("node.js")]),t._v(" ä¸–ç•Œä¸­ï¼Œé€šå¸¸çš„åšæ³•æ˜¯å°†æˆæƒç”¨æˆ·é™„åŠ åˆ°è¯·æ±‚å¯¹è±¡ã€‚å› æ­¤ï¼Œåœ¨ä¸Šé¢çš„ç¤ºä¾‹ä»£ç ä¸­ï¼Œæˆ‘ä»¬å‡è®¾ "),a("code",[t._v("request.user")]),t._v(" åŒ…å«ç”¨æˆ·å®ä¾‹å’Œå…è®¸çš„è§’è‰²ã€‚åœ¨æ‚¨çš„åº”ç”¨ä¸­ï¼Œæ‚¨å¯èƒ½ä¼šåœ¨è‡ªå®šä¹‰èº«ä»½éªŒè¯é˜²æŠ¤(æˆ–ä¸­é—´ä»¶)ä¸­å»ºç«‹è¯¥å…³è”ã€‚")])]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("æ³¨æ„")]),t._v(" "),a("p",[a("code",[t._v("matchRoles()")]),t._v(" å‡½æ•°å†…éƒ¨çš„é€»è¾‘å¯ä»¥æ ¹æ®éœ€è¦ç®€å•æˆ–å¤æ‚ã€‚è¯¥ç¤ºä¾‹çš„é‡ç‚¹æ˜¯æ˜¾ç¤ºå®ˆå«å¦‚ä½•é€‚åº”è¯·æ±‚/å“åº”å‘¨æœŸã€‚")])]),t._v(" "),a("p",[t._v("æœ‰å…³ä»¥ä¸Šä¸‹æ–‡ç›¸å…³æ–¹å¼ä½¿ç”¨ "),a("code",[t._v("Reflector")]),t._v(" çš„æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚è§ "),a("strong",[t._v('"æ‰§è¡Œ"')]),t._v(' ä¸Šä¸‹æ–‡ä¸€ç« çš„ **"åå°„å’Œå…ƒæ•°æ®"**éƒ¨åˆ†ã€‚')]),t._v(" "),a("p",[t._v("å½“ç‰¹æƒä¸è¶³çš„ç”¨æˆ·è¯·æ±‚ç«¯ç‚¹æ—¶ï¼Œ"),a("code",[t._v("Nest")]),t._v(" è‡ªåŠ¨è¿”å›ä»¥ä¸‹å“åº”ï¼š")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"statusCode"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("403")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"message"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Forbidden resource"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"error"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Forbidden"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("è¯·æ³¨æ„ï¼Œåœ¨å¹•åï¼Œå½“å®ˆå«è¿”å› "),a("code",[t._v("false")]),t._v(" æ—¶ï¼Œæ¡†æ¶å°†å¼•å‘ "),a("code",[t._v("ForbiddenException")]),t._v("ã€‚å¦‚æœè¦è¿”å›ä¸åŒçš„é”™è¯¯å“åº”ï¼Œåˆ™åº”æŠ›å‡ºè‡ªå·±çš„ç‰¹å®šå¼‚å¸¸ã€‚ä¾‹å¦‚ï¼š")]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("UnauthorizedException")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("å«å£«æŠ›å‡ºçš„ä»»ä½•å¼‚å¸¸å°†ç”±å¼‚å¸¸å±‚å¤„ç†(å…¨å±€å¼‚å¸¸è¿‡æ»¤å™¨å’Œåº”ç”¨äºå½“å‰ä¸Šä¸‹æ–‡çš„æ‰€æœ‰å¼‚å¸¸è¿‡æ»¤å™¨)ã€‚")])])}),[],!1,null,null,null);s.default=e.exports}}]);